ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"lis2dh.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.rodata.lis2dh_write_data.str1.4,"aMS",%progbits,1
  18              		.align	2
  19              	.LC0:
  20 0000 6C697332 		.ascii	"lis2dh write data success!\000"
  20      64682077 
  20      72697465 
  20      20646174 
  20      61207375 
  21 001b 00       		.align	2
  22              	.LC1:
  23 001c 6C697332 		.ascii	"lis2dh write data failed!\000"
  23      64682077 
  23      72697465 
  23      20646174 
  23      61206661 
  24              		.section	.text.lis2dh_write_data,"ax",%progbits
  25              		.align	1
  26              		.global	lis2dh_write_data
  27              		.arch armv7e-m
  28              		.syntax unified
  29              		.thumb
  30              		.thumb_func
  31              		.fpu fpv4-sp-d16
  33              	lis2dh_write_data:
  34              	.LVL0:
  35              	.LFB316:
  36              		.file 1 "Src/lis2dh.c"
   1:Src/lis2dh.c  **** /*
   2:Src/lis2dh.c  ****     Copyright 2019 SHENZHEN ZHILAI SCI AND TECH CO., LTD,
   3:Src/lis2dh.c  ****     15th floor, C3 building, Nanshan ipark,Xueyuan road 1001,
   4:Src/lis2dh.c  **** 	Nanshan District, Shenzhen 518052, China.
   5:Src/lis2dh.c  ****     All rights are reserved. Reproduction in whole or in part is prohibited
   6:Src/lis2dh.c  ****     without the prior written consent of the copyright owner.
   7:Src/lis2dh.c  **** 
   8:Src/lis2dh.c  ****     COMPANY CONFIDENTIAL
   9:Src/lis2dh.c  **** 
  10:Src/lis2dh.c  **** Filename  :  lis2dh.c
  11:Src/lis2dh.c  **** 
  12:Src/lis2dh.c  **** 
  13:Src/lis2dh.c  **** Rev     Date    Author  Comments
  14:Src/lis2dh.c  **** -------------------------------------------------------------------------------
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 2


  15:Src/lis2dh.c  **** 001  2021.3.27   zjs
  16:Src/lis2dh.c  **** 002
  17:Src/lis2dh.c  **** 003
  18:Src/lis2dh.c  **** 004
  19:Src/lis2dh.c  **** -------------------------------------------------------------------------------
  20:Src/lis2dh.c  **** 
  21:Src/lis2dh.c  **** @Begin
  22:Src/lis2dh.c  **** @module
  23:Src/lis2dh.c  ****         Module name
  24:Src/lis2dh.c  ****         Module description (Driving Bluetooth module E95)
  25:Src/lis2dh.c  **** @end
  26:Src/lis2dh.c  **** */
  27:Src/lis2dh.c  **** 
  28:Src/lis2dh.c  **** #include <float.h>
  29:Src/lis2dh.c  **** #include "i2c.h"
  30:Src/lis2dh.c  **** #include "lis2dh.h"
  31:Src/lis2dh.c  **** #include "global.h"
  32:Src/lis2dh.c  **** 
  33:Src/lis2dh.c  **** extern I2C_HandleTypeDef hi2c3;
  34:Src/lis2dh.c  **** 
  35:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_2g_HR_TO_mg(lsb)  (float)((int16_t)lsb>>4)* 1.0f
  36:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_4g_HR_TO_mg(lsb)  (float)((int16_t)lsb>>4)* 2.0f
  37:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_8g_HR_TO_mg(lsb)  (float)((int16_t)lsb>>4)* 4.0f
  38:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_16g_HR_TO_mg(lsb) (float)((int16_t)lsb>>4)*12.0f
  39:Src/lis2dh.c  **** #define LIS2DH12_FROM_LSB_TO_degC_HR(lsb) (float)((int16_t)lsb>>6)/4.0f+25.0f
  40:Src/lis2dh.c  **** 
  41:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_2g_NM_TO_mg(lsb)  (float)((int16_t)lsb>>6)*  4.0f
  42:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_4g_NM_TO_mg(lsb)  (float)((int16_t)lsb>>6)*  8.0f
  43:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_8g_NM_TO_mg(lsb)  (float)((int16_t)lsb>>6)* 16.0f
  44:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_16g_NM_TO_mg(lsb) (float)((int16_t)lsb>>6)* 48.0f
  45:Src/lis2dh.c  **** #define LIS2DH12_FROM_LSB_TO_degC_NM(lsb) (float)((int16_t)lsb>>6)/4.0f+25.0f
  46:Src/lis2dh.c  **** 
  47:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_2g_LP_TO_mg(lsb)  (float)((int16_t)lsb>>8)*16.0f
  48:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_4g_LP_TO_mg(lsb)  (float)((int16_t)lsb>>8)*32.0f
  49:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_8g_LP_TO_mg(lsb)  (float)((int16_t)lsb>>8)*64.0f
  50:Src/lis2dh.c  **** #define LIS2DH12_FROM_FS_16g_LP_TO_mg(lsb) (float)((int16_t)lsb>>8)*192.0f
  51:Src/lis2dh.c  **** #define LIS2DH12_FROM_LSB_TO_degC_LP(lsb) (float)((int16_t)lsb>>8)*1.0f + 25.0f
  52:Src/lis2dh.c  **** 
  53:Src/lis2dh.c  **** axis_info_t acc_sample;
  54:Src/lis2dh.c  **** filter_avg_t acc_data;
  55:Src/lis2dh.c  **** void old_angle_calculate(void);
  56:Src/lis2dh.c  **** 
  57:Src/lis2dh.c  **** 
  58:Src/lis2dh.c  **** /***************************************************************
  59:Src/lis2dh.c  **** * @brief  To specify length data to PCF8563
  60:Src/lis2dh.c  **** * @param
  61:Src/lis2dh.c  **** *       add     Write address
  62:Src/lis2dh.c  **** *       write_buf Write data
  63:Src/lis2dh.c  **** *       len     data lenth
  64:Src/lis2dh.c  **** * @return ï¼š0-> success          1-> fail
  65:Src/lis2dh.c  **** **************************************************************/
  66:Src/lis2dh.c  **** 
  67:Src/lis2dh.c  **** uint8_t lis2dh_write_data(uint8_t addr, uint8_t *write_buf, uint8_t len)
  68:Src/lis2dh.c  **** {
  37              		.loc 1 68 1 view -0
  38              		.cfi_startproc
  39              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 3


  40              		@ frame_needed = 0, uses_anonymous_args = 0
  41              		.loc 1 68 1 is_stmt 0 view .LVU1
  42 0000 10B5     		push	{r4, lr}
  43              	.LCFI0:
  44              		.cfi_def_cfa_offset 8
  45              		.cfi_offset 4, -8
  46              		.cfi_offset 14, -4
  47 0002 84B0     		sub	sp, sp, #16
  48              	.LCFI1:
  49              		.cfi_def_cfa_offset 24
  69:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
  50              		.loc 1 69 5 is_stmt 1 view .LVU2
  51              	.LVL1:
  70:Src/lis2dh.c  ****     //MX_I2C3_Init();
  71:Src/lis2dh.c  ****     //i2c3_gpio_init();
  72:Src/lis2dh.c  ****     //HAL_Delay(5);
  73:Src/lis2dh.c  **** 	if(HAL_OK == HAL_I2C_Mem_Write(&hi2c3, LIS2DH_WRITE_ADDR, addr, I2C_MEMADD_SIZE_8BIT, write_buf, l
  52              		.loc 1 73 2 view .LVU3
  53              		.loc 1 73 15 is_stmt 0 view .LVU4
  54 0004 4FF47A73 		mov	r3, #1000
  55 0008 0293     		str	r3, [sp, #8]
  56 000a 0192     		str	r2, [sp, #4]
  57 000c 0091     		str	r1, [sp]
  58 000e 0123     		movs	r3, #1
  59 0010 0246     		mov	r2, r0
  60              	.LVL2:
  61              		.loc 1 73 15 view .LVU5
  62 0012 3221     		movs	r1, #50
  63              	.LVL3:
  64              		.loc 1 73 15 view .LVU6
  65 0014 0748     		ldr	r0, .L5
  66              	.LVL4:
  67              		.loc 1 73 15 view .LVU7
  68 0016 FFF7FEFF 		bl	HAL_I2C_Mem_Write
  69              	.LVL5:
  70              		.loc 1 73 4 view .LVU8
  71 001a 30B9     		cbnz	r0, .L2
  72 001c 0446     		mov	r4, r0
  74:Src/lis2dh.c  ****     {
  75:Src/lis2dh.c  ****         ret = V_ZERO;
  73              		.loc 1 75 9 is_stmt 1 view .LVU9
  76:Src/lis2dh.c  ****         printf("lis2dh write data success!\n");
  74              		.loc 1 76 9 view .LVU10
  75 001e 0648     		ldr	r0, .L5+4
  76 0020 FFF7FEFF 		bl	puts
  77              	.LVL6:
  78              	.L3:
  77:Src/lis2dh.c  ****     }
  78:Src/lis2dh.c  ****     else
  79:Src/lis2dh.c  ****     {
  80:Src/lis2dh.c  ****         ret = V_ONE;
  81:Src/lis2dh.c  ****         printf("lis2dh write data failed!\n");
  82:Src/lis2dh.c  ****     }
  83:Src/lis2dh.c  ****     //HAL_Delay(5);
  84:Src/lis2dh.c  ****     //HAL_I2C_MspDeInit(I2C3);
  85:Src/lis2dh.c  ****     //set_gpio_mode_input_up(GPIOC, GPIO_PIN_0);
  86:Src/lis2dh.c  ****     //set_gpio_mode_input_up(GPIOC, GPIO_PIN_1);
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 4


  87:Src/lis2dh.c  ****     return ret;
  79              		.loc 1 87 5 view .LVU11
  88:Src/lis2dh.c  **** }
  80              		.loc 1 88 1 is_stmt 0 view .LVU12
  81 0024 2046     		mov	r0, r4
  82 0026 04B0     		add	sp, sp, #16
  83              	.LCFI2:
  84              		.cfi_remember_state
  85              		.cfi_def_cfa_offset 8
  86              		@ sp needed
  87 0028 10BD     		pop	{r4, pc}
  88              	.LVL7:
  89              	.L2:
  90              	.LCFI3:
  91              		.cfi_restore_state
  80:Src/lis2dh.c  ****         printf("lis2dh write data failed!\n");
  92              		.loc 1 80 9 is_stmt 1 view .LVU13
  81:Src/lis2dh.c  ****     }
  93              		.loc 1 81 9 view .LVU14
  94 002a 0448     		ldr	r0, .L5+8
  95 002c FFF7FEFF 		bl	puts
  96              	.LVL8:
  80:Src/lis2dh.c  ****         printf("lis2dh write data failed!\n");
  97              		.loc 1 80 13 is_stmt 0 view .LVU15
  98 0030 0124     		movs	r4, #1
  99 0032 F7E7     		b	.L3
 100              	.L6:
 101              		.align	2
 102              	.L5:
 103 0034 00000000 		.word	hi2c3
 104 0038 00000000 		.word	.LC0
 105 003c 1C000000 		.word	.LC1
 106              		.cfi_endproc
 107              	.LFE316:
 109              		.section	.rodata.lis2dh_read_data.str1.4,"aMS",%progbits,1
 110              		.align	2
 111              	.LC2:
 112 0000 6C697332 		.ascii	"lis2dh read data failed!\000"
 112      64682072 
 112      65616420 
 112      64617461 
 112      20666169 
 113              		.section	.text.lis2dh_read_data,"ax",%progbits
 114              		.align	1
 115              		.global	lis2dh_read_data
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 119              		.fpu fpv4-sp-d16
 121              	lis2dh_read_data:
 122              	.LVL9:
 123              	.LFB317:
  89:Src/lis2dh.c  **** 
  90:Src/lis2dh.c  **** 
  91:Src/lis2dh.c  **** /***************************************************************
  92:Src/lis2dh.c  **** *@brief  Read the specified length data from PCF8563
  93:Src/lis2dh.c  **** *@param
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 5


  94:Src/lis2dh.c  **** *       add      read addr 
  95:Src/lis2dh.c  **** *       read_buf read data 
  96:Src/lis2dh.c  **** *       len      data lenth 
  97:Src/lis2dh.c  **** *@return ï¼š0-> success          1-> fail
  98:Src/lis2dh.c  **** **************************************************************/
  99:Src/lis2dh.c  **** uint8_t lis2dh_read_data(uint8_t addr, uint8_t *read_buf, uint8_t len)
 100:Src/lis2dh.c  **** {
 124              		.loc 1 100 1 is_stmt 1 view -0
 125              		.cfi_startproc
 126              		@ args = 0, pretend = 0, frame = 0
 127              		@ frame_needed = 0, uses_anonymous_args = 0
 128              		.loc 1 100 1 is_stmt 0 view .LVU17
 129 0000 00B5     		push	{lr}
 130              	.LCFI4:
 131              		.cfi_def_cfa_offset 4
 132              		.cfi_offset 14, -4
 133 0002 85B0     		sub	sp, sp, #20
 134              	.LCFI5:
 135              		.cfi_def_cfa_offset 24
 101:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 136              		.loc 1 101 5 is_stmt 1 view .LVU18
 137              	.LVL10:
 102:Src/lis2dh.c  ****     //MX_I2C3_Init();
 103:Src/lis2dh.c  ****     //i2c3_gpio_init();
 104:Src/lis2dh.c  ****     //HAL_Delay(5);
 105:Src/lis2dh.c  **** 	if(HAL_OK == HAL_I2C_Mem_Read(&hi2c3, LIS2DH_READ_ADDR, addr, I2C_MEMADD_SIZE_8BIT, read_buf, len,
 138              		.loc 1 105 2 view .LVU19
 139              		.loc 1 105 15 is_stmt 0 view .LVU20
 140 0004 4FF47A73 		mov	r3, #1000
 141 0008 0293     		str	r3, [sp, #8]
 142 000a 0192     		str	r2, [sp, #4]
 143 000c 0091     		str	r1, [sp]
 144 000e 0123     		movs	r3, #1
 145 0010 0246     		mov	r2, r0
 146              	.LVL11:
 147              		.loc 1 105 15 view .LVU21
 148 0012 3321     		movs	r1, #51
 149              	.LVL12:
 150              		.loc 1 105 15 view .LVU22
 151 0014 0548     		ldr	r0, .L11
 152              	.LVL13:
 153              		.loc 1 105 15 view .LVU23
 154 0016 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 155              	.LVL14:
 156              		.loc 1 105 4 view .LVU24
 157 001a 10B9     		cbnz	r0, .L10
 158              	.LVL15:
 159              	.L8:
 106:Src/lis2dh.c  ****     {
 107:Src/lis2dh.c  ****         //printf("lis2dh read data success!\n");
 108:Src/lis2dh.c  ****         ret = V_ZERO;
 109:Src/lis2dh.c  ****     }
 110:Src/lis2dh.c  ****     else
 111:Src/lis2dh.c  ****     {
 112:Src/lis2dh.c  ****         ret = V_ONE;
 113:Src/lis2dh.c  ****         printf("lis2dh read data failed!\n");
 114:Src/lis2dh.c  ****     }
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 6


 115:Src/lis2dh.c  ****     //HAL_Delay(5);
 116:Src/lis2dh.c  ****     //HAL_I2C_MspDeInit(I2C3);
 117:Src/lis2dh.c  ****     //set_gpio_mode_input_up(GPIOC, GPIO_PIN_0);
 118:Src/lis2dh.c  ****     //set_gpio_mode_input_up(GPIOC, GPIO_PIN_1);
 119:Src/lis2dh.c  ****     return ret;
 160              		.loc 1 119 5 is_stmt 1 view .LVU25
 120:Src/lis2dh.c  **** }
 161              		.loc 1 120 1 is_stmt 0 view .LVU26
 162 001c 05B0     		add	sp, sp, #20
 163              	.LCFI6:
 164              		.cfi_remember_state
 165              		.cfi_def_cfa_offset 4
 166              		@ sp needed
 167 001e 5DF804FB 		ldr	pc, [sp], #4
 168              	.LVL16:
 169              	.L10:
 170              	.LCFI7:
 171              		.cfi_restore_state
 112:Src/lis2dh.c  ****         printf("lis2dh read data failed!\n");
 172              		.loc 1 112 9 is_stmt 1 view .LVU27
 113:Src/lis2dh.c  ****     }
 173              		.loc 1 113 9 view .LVU28
 174 0022 0348     		ldr	r0, .L11+4
 175 0024 FFF7FEFF 		bl	puts
 176              	.LVL17:
 112:Src/lis2dh.c  ****         printf("lis2dh read data failed!\n");
 177              		.loc 1 112 13 is_stmt 0 view .LVU29
 178 0028 0120     		movs	r0, #1
 179 002a F7E7     		b	.L8
 180              	.L12:
 181              		.align	2
 182              	.L11:
 183 002c 00000000 		.word	hi2c3
 184 0030 00000000 		.word	.LC2
 185              		.cfi_endproc
 186              	.LFE317:
 188              		.section	.rodata.lis2dh_set_threshold.str1.4,"aMS",%progbits,1
 189              		.align	2
 190              	.LC3:
 191 0000 6C697332 		.ascii	"lis2dh_set_threshold fail\015\000"
 191      64685F73 
 191      65745F74 
 191      68726573 
 191      686F6C64 
 192 001b 00       		.align	2
 193              	.LC4:
 194 001c 6C697332 		.ascii	"lis2dh_set_threshold fail,set:%d,read:%d\015\012\000"
 194      64685F73 
 194      65745F74 
 194      68726573 
 194      686F6C64 
 195              		.section	.text.lis2dh_set_threshold,"ax",%progbits
 196              		.align	1
 197              		.global	lis2dh_set_threshold
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 7


 201              		.fpu fpv4-sp-d16
 203              	lis2dh_set_threshold:
 204              	.LVL18:
 205              	.LFB319:
 121:Src/lis2dh.c  **** 
 122:Src/lis2dh.c  **** /***************************************************************
 123:Src/lis2dh.c  **** * @brief  This api can be called to  initialize the lis2dh device
 124:Src/lis2dh.c  **** * @param  void
 125:Src/lis2dh.c  **** * @return lis2dh_status_code_t The status of the lis2dh working result
 126:Src/lis2dh.c  **** **************************************************************/
 127:Src/lis2dh.c  **** lis2dh_status_code_t lis2dh_init(void)
 128:Src/lis2dh.c  **** {
 129:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 130:Src/lis2dh.c  ****     uint8_t CTRL_REG1 = LIS2DH_CTRL_REG1;       /*50Hz Data Rate,lowpower mode ,x/y/z can use*/
 131:Src/lis2dh.c  ****     uint8_t CTRL_REG2 = LIS2DH_CTRL_REG2;       /*INT1 use High-pass*/
 132:Src/lis2dh.c  ****     uint8_t CTRL_REG3 = LIS2DH_CTRL_REG3;       /*INT1 interrupt*/
 133:Src/lis2dh.c  ****     uint8_t CTRL_REG4 = LIS2DH_CTRL_REG4;
 134:Src/lis2dh.c  ****     uint8_t INT1_CFG = LIS2DH_INT1_CFG;       /*enable ,x/y/z cover interrupt*/
 135:Src/lis2dh.c  ****     uint8_t INT1_THS = LIS2DH_DEFAULT_THRESHOLD;       /*Interruption threshold*/
 136:Src/lis2dh.c  ****     uint8_t INT1_DURATION = LIS2DH_INT1_DURATION;   /*Interrupt immediately when exceeding*/
 137:Src/lis2dh.c  ****     uint8_t id;
 138:Src/lis2dh.c  **** 
 139:Src/lis2dh.c  ****     id = lis2dh_rd_id();
 140:Src/lis2dh.c  ****     if (LIS2DH_WHO_AM_I != id)
 141:Src/lis2dh.c  ****     {
 142:Src/lis2dh.c  ****         printf("lis2dh id:0x%x wrong\r\n",id);
 143:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 144:Src/lis2dh.c  ****     }
 145:Src/lis2dh.c  ****     
 146:Src/lis2dh.c  ****     ret = lis2dh_write_data(GRTL_REG1_ADDR, &CTRL_REG1, L_ONE);
 147:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 148:Src/lis2dh.c  ****     {
 149:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 150:Src/lis2dh.c  ****     }
 151:Src/lis2dh.c  **** 
 152:Src/lis2dh.c  ****     ret = lis2dh_write_data(GRTL_REG2_ADDR, &CTRL_REG2, L_ONE);
 153:Src/lis2dh.c  **** 
 154:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 155:Src/lis2dh.c  ****     {
 156:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 157:Src/lis2dh.c  ****     }
 158:Src/lis2dh.c  **** 
 159:Src/lis2dh.c  ****     ret = lis2dh_write_data(GRTL_REG3_ADDR, &CTRL_REG3, L_ONE);
 160:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 161:Src/lis2dh.c  ****     {
 162:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 163:Src/lis2dh.c  ****     }
 164:Src/lis2dh.c  **** 	
 165:Src/lis2dh.c  ****     ret = lis2dh_write_data(GRTL_REG4_ADDR, &CTRL_REG4, L_ONE);
 166:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 167:Src/lis2dh.c  ****     {
 168:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 169:Src/lis2dh.c  ****     }
 170:Src/lis2dh.c  **** 
 171:Src/lis2dh.c  ****     ret = lis2dh_write_data(INT1_CFG_ADDR, &INT1_CFG, L_ONE);
 172:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 173:Src/lis2dh.c  ****     {
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 8


 174:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 175:Src/lis2dh.c  ****     }
 176:Src/lis2dh.c  **** 
 177:Src/lis2dh.c  ****     ret = lis2dh_write_data(INT1_THS_REG, &INT1_THS, L_ONE);
 178:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 179:Src/lis2dh.c  ****     {
 180:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 181:Src/lis2dh.c  ****     }
 182:Src/lis2dh.c  **** 
 183:Src/lis2dh.c  ****     ret = lis2dh_write_data(INT1_DURATION_REG, &INT1_DURATION, L_ONE);
 184:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 185:Src/lis2dh.c  ****     {
 186:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 187:Src/lis2dh.c  ****     }
 188:Src/lis2dh.c  ****       
 189:Src/lis2dh.c  ****   	filter_acc();
 190:Src/lis2dh.c  ****     old_angle_calculate();
 191:Src/lis2dh.c  ****     return LIS2DH_SUCCESS;
 192:Src/lis2dh.c  **** }
 193:Src/lis2dh.c  **** 
 194:Src/lis2dh.c  **** /***************************************************************
 195:Src/lis2dh.c  **** * @brief  This api  can  be called to  set  the  interrupt threshold
 196:Src/lis2dh.c  **** * @param  level
 197:Src/lis2dh.c  **** * @return 1 means err,0 means ok.
 198:Src/lis2dh.c  **** **************************************************************/
 199:Src/lis2dh.c  **** uint8_t lis2dh_set_threshold(uint8_t level)
 200:Src/lis2dh.c  **** {
 206              		.loc 1 200 1 is_stmt 1 view -0
 207              		.cfi_startproc
 208              		@ args = 0, pretend = 0, frame = 16
 209              		@ frame_needed = 0, uses_anonymous_args = 0
 210              		.loc 1 200 1 is_stmt 0 view .LVU31
 211 0000 00B5     		push	{lr}
 212              	.LCFI8:
 213              		.cfi_def_cfa_offset 4
 214              		.cfi_offset 14, -4
 215 0002 85B0     		sub	sp, sp, #20
 216              	.LCFI9:
 217              		.cfi_def_cfa_offset 24
 218 0004 8DF80700 		strb	r0, [sp, #7]
 201:Src/lis2dh.c  ****     uint8_t ret = LIS2DH_SUCCESS;
 219              		.loc 1 201 5 is_stmt 1 view .LVU32
 220              	.LVL19:
 202:Src/lis2dh.c  ****     uint8_t read_data;
 221              		.loc 1 202 5 view .LVU33
 203:Src/lis2dh.c  **** 
 204:Src/lis2dh.c  ****     if (level > LIS2DH_INT1_THS_MAX)
 222              		.loc 1 204 5 view .LVU34
 223              		.loc 1 204 8 is_stmt 0 view .LVU35
 224 0008 10F0800F 		tst	r0, #128
 225 000c 1FD1     		bne	.L20
 226              	.L14:
 205:Src/lis2dh.c  ****     {
 206:Src/lis2dh.c  ****         level = LIS2DH_INT1_THS_MAX;
 207:Src/lis2dh.c  ****     }
 208:Src/lis2dh.c  ****     
 209:Src/lis2dh.c  ****     if (level < LIS2DH_INT1_THS_MIN)
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 9


 227              		.loc 1 209 5 is_stmt 1 view .LVU36
 228              		.loc 1 209 15 is_stmt 0 view .LVU37
 229 000e 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 230              		.loc 1 209 8 view .LVU38
 231 0012 1E2B     		cmp	r3, #30
 232 0014 02D8     		bhi	.L15
 210:Src/lis2dh.c  ****     {
 211:Src/lis2dh.c  ****         level = LIS2DH_INT1_THS_MIN;
 233              		.loc 1 211 9 is_stmt 1 view .LVU39
 234              		.loc 1 211 15 is_stmt 0 view .LVU40
 235 0016 1F23     		movs	r3, #31
 236 0018 8DF80730 		strb	r3, [sp, #7]
 237              	.L15:
 212:Src/lis2dh.c  ****     }
 213:Src/lis2dh.c  **** 
 214:Src/lis2dh.c  ****     ret = lis2dh_write_data(INT1_THS_REG, &level, L_ONE);
 238              		.loc 1 214 5 is_stmt 1 view .LVU41
 239              		.loc 1 214 11 is_stmt 0 view .LVU42
 240 001c 0122     		movs	r2, #1
 241 001e 0DF10701 		add	r1, sp, #7
 242 0022 3220     		movs	r0, #50
 243              	.LVL20:
 244              		.loc 1 214 11 view .LVU43
 245 0024 FFF7FEFF 		bl	lis2dh_write_data
 246              	.LVL21:
 215:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 247              		.loc 1 215 5 is_stmt 1 view .LVU44
 248              		.loc 1 215 8 is_stmt 0 view .LVU45
 249 0028 A8B9     		cbnz	r0, .L21
 216:Src/lis2dh.c  ****     {
 217:Src/lis2dh.c  ****         printf("lis2dh_set_threshold fail\r\n");
 218:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 219:Src/lis2dh.c  **** 
 220:Src/lis2dh.c  ****     }
 221:Src/lis2dh.c  ****     
 222:Src/lis2dh.c  ****     ret = lis2dh_read_data(INT1_THS_REG, &read_data, L_ONE);
 250              		.loc 1 222 5 is_stmt 1 view .LVU46
 251              		.loc 1 222 11 is_stmt 0 view .LVU47
 252 002a 0122     		movs	r2, #1
 253 002c 0DF10F01 		add	r1, sp, #15
 254 0030 3220     		movs	r0, #50
 255              	.LVL22:
 256              		.loc 1 222 11 view .LVU48
 257 0032 FFF7FEFF 		bl	lis2dh_read_data
 258              	.LVL23:
 223:Src/lis2dh.c  ****     if(ret != LIS2DH_SUCCREE)
 259              		.loc 1 223 5 is_stmt 1 view .LVU49
 260              		.loc 1 223 7 is_stmt 0 view .LVU50
 261 0036 A8B9     		cbnz	r0, .L18
 224:Src/lis2dh.c  ****     {
 225:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 226:Src/lis2dh.c  ****     }
 227:Src/lis2dh.c  ****     else
 228:Src/lis2dh.c  ****     {
 229:Src/lis2dh.c  ****         if(read_data != level)
 262              		.loc 1 229 9 is_stmt 1 view .LVU51
 263              		.loc 1 229 22 is_stmt 0 view .LVU52
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 10


 264 0038 9DF80F20 		ldrb	r2, [sp, #15]	@ zero_extendqisi2
 265 003c 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 266              		.loc 1 229 11 view .LVU53
 267 0040 8A42     		cmp	r2, r1
 268 0042 0CD0     		beq	.L17
 230:Src/lis2dh.c  ****         {
 231:Src/lis2dh.c  ****             printf("lis2dh_set_threshold fail,set:%d,read:%d\r\n",level,read_data);
 269              		.loc 1 231 13 is_stmt 1 view .LVU54
 270 0044 0848     		ldr	r0, .L22
 271              	.LVL24:
 272              		.loc 1 231 13 is_stmt 0 view .LVU55
 273 0046 FFF7FEFF 		bl	printf
 274              	.LVL25:
 232:Src/lis2dh.c  ****             return LIS2DH_ERROR;
 275              		.loc 1 232 13 is_stmt 1 view .LVU56
 276              		.loc 1 232 20 is_stmt 0 view .LVU57
 277 004a 0120     		movs	r0, #1
 278 004c 07E0     		b	.L17
 279              	.LVL26:
 280              	.L20:
 206:Src/lis2dh.c  ****     }
 281              		.loc 1 206 9 is_stmt 1 view .LVU58
 206:Src/lis2dh.c  ****     }
 282              		.loc 1 206 15 is_stmt 0 view .LVU59
 283 004e 7F23     		movs	r3, #127
 284 0050 8DF80730 		strb	r3, [sp, #7]
 285 0054 DBE7     		b	.L14
 286              	.LVL27:
 287              	.L21:
 217:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 288              		.loc 1 217 9 is_stmt 1 view .LVU60
 289 0056 0548     		ldr	r0, .L22+4
 290              	.LVL28:
 217:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 291              		.loc 1 217 9 is_stmt 0 view .LVU61
 292 0058 FFF7FEFF 		bl	puts
 293              	.LVL29:
 218:Src/lis2dh.c  **** 
 294              		.loc 1 218 9 is_stmt 1 view .LVU62
 218:Src/lis2dh.c  **** 
 295              		.loc 1 218 16 is_stmt 0 view .LVU63
 296 005c 0120     		movs	r0, #1
 297              	.L17:
 233:Src/lis2dh.c  ****         }
 234:Src/lis2dh.c  ****     }    
 235:Src/lis2dh.c  **** 
 236:Src/lis2dh.c  ****     return ret;
 237:Src/lis2dh.c  **** }
 298              		.loc 1 237 1 view .LVU64
 299 005e 05B0     		add	sp, sp, #20
 300              	.LCFI10:
 301              		.cfi_remember_state
 302              		.cfi_def_cfa_offset 4
 303              		@ sp needed
 304 0060 5DF804FB 		ldr	pc, [sp], #4
 305              	.LVL30:
 306              	.L18:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 11


 307              	.LCFI11:
 308              		.cfi_restore_state
 225:Src/lis2dh.c  ****     }
 309              		.loc 1 225 16 view .LVU65
 310 0064 0120     		movs	r0, #1
 311              	.LVL31:
 225:Src/lis2dh.c  ****     }
 312              		.loc 1 225 16 view .LVU66
 313 0066 FAE7     		b	.L17
 314              	.L23:
 315              		.align	2
 316              	.L22:
 317 0068 1C000000 		.word	.LC4
 318 006c 00000000 		.word	.LC3
 319              		.cfi_endproc
 320              	.LFE319:
 322              		.section	.rodata.lis2dh_get_threshold.str1.4,"aMS",%progbits,1
 323              		.align	2
 324              	.LC5:
 325 0000 6C697332 		.ascii	"lis2dh_get_threshold error:%d\015\012\000"
 325      64685F67 
 325      65745F74 
 325      68726573 
 325      686F6C64 
 326              		.section	.text.lis2dh_get_threshold,"ax",%progbits
 327              		.align	1
 328              		.global	lis2dh_get_threshold
 329              		.syntax unified
 330              		.thumb
 331              		.thumb_func
 332              		.fpu fpv4-sp-d16
 334              	lis2dh_get_threshold:
 335              	.LVL32:
 336              	.LFB320:
 238:Src/lis2dh.c  **** 
 239:Src/lis2dh.c  **** /***************************************************************
 240:Src/lis2dh.c  **** * @brief  This api  can  be called to  read  the  interrupt threshold
 241:Src/lis2dh.c  **** * @param  level
 242:Src/lis2dh.c  **** * @return 1 means err,0 means ok.
 243:Src/lis2dh.c  **** **************************************************************/
 244:Src/lis2dh.c  **** uint8_t lis2dh_get_threshold(uint8_t * threshold)
 245:Src/lis2dh.c  **** {
 337              		.loc 1 245 1 is_stmt 1 view -0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341              		.loc 1 245 1 is_stmt 0 view .LVU68
 342 0000 10B5     		push	{r4, lr}
 343              	.LCFI12:
 344              		.cfi_def_cfa_offset 8
 345              		.cfi_offset 4, -8
 346              		.cfi_offset 14, -4
 347 0002 0146     		mov	r1, r0
 246:Src/lis2dh.c  ****     uint8_t ret;
 348              		.loc 1 246 5 is_stmt 1 view .LVU69
 247:Src/lis2dh.c  ****     //uint8_t read_data;
 248:Src/lis2dh.c  ****     
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 12


 249:Src/lis2dh.c  ****     ret = lis2dh_read_data(INT1_THS_REG, threshold, L_ONE);
 349              		.loc 1 249 5 view .LVU70
 350              		.loc 1 249 11 is_stmt 0 view .LVU71
 351 0004 0122     		movs	r2, #1
 352 0006 3220     		movs	r0, #50
 353              	.LVL33:
 354              		.loc 1 249 11 view .LVU72
 355 0008 FFF7FEFF 		bl	lis2dh_read_data
 356              	.LVL34:
 250:Src/lis2dh.c  ****     if(ret)
 357              		.loc 1 250 5 is_stmt 1 view .LVU73
 358              		.loc 1 250 7 is_stmt 0 view .LVU74
 359 000c 0446     		mov	r4, r0
 360 000e 08B9     		cbnz	r0, .L27
 361              	.LVL35:
 362              	.L25:
 251:Src/lis2dh.c  ****     {
 252:Src/lis2dh.c  ****         printf("lis2dh_get_threshold error:%d\r\n",ret);
 253:Src/lis2dh.c  ****     }
 254:Src/lis2dh.c  ****     
 255:Src/lis2dh.c  ****     return ret;
 363              		.loc 1 255 5 is_stmt 1 view .LVU75
 256:Src/lis2dh.c  **** }
 364              		.loc 1 256 1 is_stmt 0 view .LVU76
 365 0010 2046     		mov	r0, r4
 366 0012 10BD     		pop	{r4, pc}
 367              	.LVL36:
 368              	.L27:
 252:Src/lis2dh.c  ****     }
 369              		.loc 1 252 9 is_stmt 1 view .LVU77
 370 0014 0146     		mov	r1, r0
 371 0016 0248     		ldr	r0, .L28
 372              	.LVL37:
 252:Src/lis2dh.c  ****     }
 373              		.loc 1 252 9 is_stmt 0 view .LVU78
 374 0018 FFF7FEFF 		bl	printf
 375              	.LVL38:
 376 001c F8E7     		b	.L25
 377              	.L29:
 378 001e 00BF     		.align	2
 379              	.L28:
 380 0020 00000000 		.word	.LC5
 381              		.cfi_endproc
 382              	.LFE320:
 384              		.section	.rodata.lis2dh_rd_id.str1.4,"aMS",%progbits,1
 385              		.align	2
 386              	.LC6:
 387 0000 6C697332 		.ascii	"lis2dh_rd_id err\000"
 387      64685F72 
 387      645F6964 
 387      20657272 
 387      00
 388              		.section	.text.lis2dh_rd_id,"ax",%progbits
 389              		.align	1
 390              		.global	lis2dh_rd_id
 391              		.syntax unified
 392              		.thumb
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 13


 393              		.thumb_func
 394              		.fpu fpv4-sp-d16
 396              	lis2dh_rd_id:
 397              	.LFB321:
 257:Src/lis2dh.c  **** 
 258:Src/lis2dh.c  **** /***************************************************************
 259:Src/lis2dh.c  **** * @brief  This api  can be  called to read the device ID
 260:Src/lis2dh.c  **** * @param  void
 261:Src/lis2dh.c  **** * @return 0 means err,lis2dh_id = 0x33 means ok.
 262:Src/lis2dh.c  **** **************************************************************/
 263:Src/lis2dh.c  **** uint8_t lis2dh_rd_id(void)
 264:Src/lis2dh.c  **** {
 398              		.loc 1 264 1 is_stmt 1 view -0
 399              		.cfi_startproc
 400              		@ args = 0, pretend = 0, frame = 8
 401              		@ frame_needed = 0, uses_anonymous_args = 0
 402 0000 00B5     		push	{lr}
 403              	.LCFI13:
 404              		.cfi_def_cfa_offset 4
 405              		.cfi_offset 14, -4
 406 0002 83B0     		sub	sp, sp, #12
 407              	.LCFI14:
 408              		.cfi_def_cfa_offset 16
 265:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 409              		.loc 1 265 5 view .LVU80
 410              	.LVL39:
 266:Src/lis2dh.c  ****     uint8_t lis2dh_id = I_ZERO;	
 411              		.loc 1 266 5 view .LVU81
 412              		.loc 1 266 13 is_stmt 0 view .LVU82
 413 0004 0023     		movs	r3, #0
 414 0006 8DF80730 		strb	r3, [sp, #7]
 267:Src/lis2dh.c  **** 
 268:Src/lis2dh.c  ****     ret = lis2dh_read_data(WHO_AM_I_REG, &lis2dh_id, L_ONE);
 415              		.loc 1 268 5 is_stmt 1 view .LVU83
 416              		.loc 1 268 11 is_stmt 0 view .LVU84
 417 000a 0122     		movs	r2, #1
 418 000c 0DF10701 		add	r1, sp, #7
 419 0010 0F20     		movs	r0, #15
 420 0012 FFF7FEFF 		bl	lis2dh_read_data
 421              	.LVL40:
 269:Src/lis2dh.c  ****     
 270:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 422              		.loc 1 270 5 is_stmt 1 view .LVU85
 423              		.loc 1 270 8 is_stmt 0 view .LVU86
 424 0016 20B9     		cbnz	r0, .L34
 271:Src/lis2dh.c  ****     {
 272:Src/lis2dh.c  ****          printf("lis2dh_rd_id err");
 273:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 274:Src/lis2dh.c  ****     }
 275:Src/lis2dh.c  ****     else
 276:Src/lis2dh.c  ****     {
 277:Src/lis2dh.c  ****         return lis2dh_id;
 425              		.loc 1 277 9 is_stmt 1 view .LVU87
 426              		.loc 1 277 16 is_stmt 0 view .LVU88
 427 0018 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 428              	.LVL41:
 429              	.L32:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 14


 278:Src/lis2dh.c  ****     }
 279:Src/lis2dh.c  **** }
 430              		.loc 1 279 1 view .LVU89
 431 001c 03B0     		add	sp, sp, #12
 432              	.LCFI15:
 433              		.cfi_remember_state
 434              		.cfi_def_cfa_offset 4
 435              		@ sp needed
 436 001e 5DF804FB 		ldr	pc, [sp], #4
 437              	.LVL42:
 438              	.L34:
 439              	.LCFI16:
 440              		.cfi_restore_state
 272:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 441              		.loc 1 272 10 is_stmt 1 view .LVU90
 442 0022 0248     		ldr	r0, .L35
 443              	.LVL43:
 272:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 444              		.loc 1 272 10 is_stmt 0 view .LVU91
 445 0024 FFF7FEFF 		bl	printf
 446              	.LVL44:
 273:Src/lis2dh.c  ****     }
 447              		.loc 1 273 9 is_stmt 1 view .LVU92
 273:Src/lis2dh.c  ****     }
 448              		.loc 1 273 16 is_stmt 0 view .LVU93
 449 0028 0120     		movs	r0, #1
 450 002a F7E7     		b	.L32
 451              	.L36:
 452              		.align	2
 453              	.L35:
 454 002c 00000000 		.word	.LC6
 455              		.cfi_endproc
 456              	.LFE321:
 458              		.section	.text.get_acc_value,"ax",%progbits
 459              		.align	1
 460              		.global	get_acc_value
 461              		.syntax unified
 462              		.thumb
 463              		.thumb_func
 464              		.fpu fpv4-sp-d16
 466              	get_acc_value:
 467              	.LFB322:
 280:Src/lis2dh.c  **** 
 281:Src/lis2dh.c  **** 
 282:Src/lis2dh.c  **** /***************************************************************
 283:Src/lis2dh.c  ****   * @brief  This api can be  called to  read axis value
 284:Src/lis2dh.c  ****   * @param  
 285:Src/lis2dh.c  ****   * @return 
 286:Src/lis2dh.c  **** **************************************************************/
 287:Src/lis2dh.c  **** void get_acc_value(void)
 288:Src/lis2dh.c  **** {
 468              		.loc 1 288 1 is_stmt 1 view -0
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 8
 471              		@ frame_needed = 0, uses_anonymous_args = 0
 472 0000 10B5     		push	{r4, lr}
 473              	.LCFI17:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 15


 474              		.cfi_def_cfa_offset 8
 475              		.cfi_offset 4, -8
 476              		.cfi_offset 14, -4
 477 0002 82B0     		sub	sp, sp, #8
 478              	.LCFI18:
 479              		.cfi_def_cfa_offset 16
 289:Src/lis2dh.c  ****     uint8_t data[XYZ_VALUE];
 480              		.loc 1 289 5 view .LVU95
 290:Src/lis2dh.c  ****     int16_t x,y,z;
 481              		.loc 1 290 5 view .LVU96
 291:Src/lis2dh.c  ****     
 292:Src/lis2dh.c  ****     for (uint8_t i = I_ZERO; i < XYZ_VALUE; i++)
 482              		.loc 1 292 5 view .LVU97
 483              	.LBB2:
 484              		.loc 1 292 10 view .LVU98
 485              	.LVL45:
 486              		.loc 1 292 18 is_stmt 0 view .LVU99
 487 0004 0024     		movs	r4, #0
 488              	.LVL46:
 489              	.L38:
 490              		.loc 1 292 30 is_stmt 1 discriminator 1 view .LVU100
 491              		.loc 1 292 5 is_stmt 0 discriminator 1 view .LVU101
 492 0006 052C     		cmp	r4, #5
 493 0008 0AD8     		bhi	.L41
 293:Src/lis2dh.c  ****     {
 294:Src/lis2dh.c  ****         lis2dh_read_data(OUT_X_L_ADDR + i, &data[i], L_ONE);    /*read xyz info*/
 494              		.loc 1 294 9 is_stmt 1 discriminator 3 view .LVU102
 495 000a 04F12800 		add	r0, r4, #40
 496 000e 0122     		movs	r2, #1
 497 0010 0DEB0401 		add	r1, sp, r4
 498 0014 C0B2     		uxtb	r0, r0
 499 0016 FFF7FEFF 		bl	lis2dh_read_data
 500              	.LVL47:
 292:Src/lis2dh.c  ****     {
 501              		.loc 1 292 45 discriminator 3 view .LVU103
 292:Src/lis2dh.c  ****     {
 502              		.loc 1 292 46 is_stmt 0 discriminator 3 view .LVU104
 503 001a 0134     		adds	r4, r4, #1
 504              	.LVL48:
 292:Src/lis2dh.c  ****     {
 505              		.loc 1 292 46 discriminator 3 view .LVU105
 506 001c E4B2     		uxtb	r4, r4
 507              	.LVL49:
 292:Src/lis2dh.c  ****     {
 508              		.loc 1 292 46 discriminator 3 view .LVU106
 509 001e F2E7     		b	.L38
 510              	.L41:
 292:Src/lis2dh.c  ****     {
 511              		.loc 1 292 46 discriminator 3 view .LVU107
 512              	.LBE2:
 295:Src/lis2dh.c  ****     }
 296:Src/lis2dh.c  ****     x = *(int16_t*)data;
 513              		.loc 1 296 5 is_stmt 1 view .LVU108
 514              		.loc 1 296 7 is_stmt 0 view .LVU109
 515 0020 BDF90000 		ldrsh	r0, [sp]
 516              	.LVL50:
 297:Src/lis2dh.c  ****     y = *(int16_t*)(data + 2);
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 16


 517              		.loc 1 297 5 is_stmt 1 view .LVU110
 518              		.loc 1 297 7 is_stmt 0 view .LVU111
 519 0024 BDF90210 		ldrsh	r1, [sp, #2]
 520              	.LVL51:
 298:Src/lis2dh.c  ****     z = *(int16_t*)(data + 4);
 521              		.loc 1 298 5 is_stmt 1 view .LVU112
 522              		.loc 1 298 7 is_stmt 0 view .LVU113
 523 0028 BDF90420 		ldrsh	r2, [sp, #4]
 524              	.LVL52:
 299:Src/lis2dh.c  ****     
 300:Src/lis2dh.c  ****     acc_sample.x = LIS2DH12_FROM_FS_2g_HR_TO_mg(x); 
 525              		.loc 1 300 5 is_stmt 1 view .LVU114
 526              		.loc 1 300 20 is_stmt 0 view .LVU115
 527 002c 0011     		asrs	r0, r0, #4
 528              	.LVL53:
 529              		.loc 1 300 18 view .LVU116
 530 002e 044B     		ldr	r3, .L42
 531 0030 1880     		strh	r0, [r3]	@ movhi
 301:Src/lis2dh.c  ****     acc_sample.y = LIS2DH12_FROM_FS_2g_HR_TO_mg(y);
 532              		.loc 1 301 5 is_stmt 1 view .LVU117
 533              		.loc 1 301 20 is_stmt 0 view .LVU118
 534 0032 0911     		asrs	r1, r1, #4
 535              	.LVL54:
 536              		.loc 1 301 18 view .LVU119
 537 0034 5980     		strh	r1, [r3, #2]	@ movhi
 302:Src/lis2dh.c  ****     acc_sample.z = LIS2DH12_FROM_FS_2g_HR_TO_mg(z);
 538              		.loc 1 302 5 is_stmt 1 view .LVU120
 539              		.loc 1 302 20 is_stmt 0 view .LVU121
 540 0036 1211     		asrs	r2, r2, #4
 541              	.LVL55:
 542              		.loc 1 302 18 view .LVU122
 543 0038 9A80     		strh	r2, [r3, #4]	@ movhi
 303:Src/lis2dh.c  ****     /*
 304:Src/lis2dh.c  ****     NRF_LOG_INFO("raw_data:x:0x%x,y:0x%x,z:0x%x\r\n",x,y,z);
 305:Src/lis2dh.c  ****     NRF_LOG_FLUSH();
 306:Src/lis2dh.c  ****     */
 307:Src/lis2dh.c  **** }
 544              		.loc 1 307 1 view .LVU123
 545 003a 02B0     		add	sp, sp, #8
 546              	.LCFI19:
 547              		.cfi_def_cfa_offset 8
 548              	.LVL56:
 549              		.loc 1 307 1 view .LVU124
 550              		@ sp needed
 551 003c 10BD     		pop	{r4, pc}
 552              	.LVL57:
 553              	.L43:
 554              		.loc 1 307 1 view .LVU125
 555 003e 00BF     		.align	2
 556              	.L42:
 557 0040 00000000 		.word	acc_sample
 558              		.cfi_endproc
 559              	.LFE322:
 561              		.section	.rodata.is_lis2dh_data_valid.str1.4,"aMS",%progbits,1
 562              		.align	2
 563              	.LC7:
 564 0000 53544154 		.ascii	"STATUS_REG_ADDR rd error:%d\015\012\000"
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 17


 564      55535F52 
 564      45475F41 
 564      44445220 
 564      72642065 
 565              		.section	.text.is_lis2dh_data_valid,"ax",%progbits
 566              		.align	1
 567              		.global	is_lis2dh_data_valid
 568              		.syntax unified
 569              		.thumb
 570              		.thumb_func
 571              		.fpu fpv4-sp-d16
 573              	is_lis2dh_data_valid:
 574              	.LFB323:
 308:Src/lis2dh.c  **** 
 309:Src/lis2dh.c  **** uint8_t is_lis2dh_data_valid(void)
 310:Src/lis2dh.c  **** {
 575              		.loc 1 310 1 is_stmt 1 view -0
 576              		.cfi_startproc
 577              		@ args = 0, pretend = 0, frame = 8
 578              		@ frame_needed = 0, uses_anonymous_args = 0
 579 0000 00B5     		push	{lr}
 580              	.LCFI20:
 581              		.cfi_def_cfa_offset 4
 582              		.cfi_offset 14, -4
 583 0002 83B0     		sub	sp, sp, #12
 584              	.LCFI21:
 585              		.cfi_def_cfa_offset 16
 311:Src/lis2dh.c  ****     uint8_t ret;
 586              		.loc 1 311 5 view .LVU127
 312:Src/lis2dh.c  ****     uint8_t valid = I_ZERO;
 587              		.loc 1 312 5 view .LVU128
 588              	.LVL58:
 313:Src/lis2dh.c  ****     uint8_t status_reg_value;
 589              		.loc 1 313 5 view .LVU129
 314:Src/lis2dh.c  ****     ret = lis2dh_read_data(STATUS_REG_ADDR, &status_reg_value, L_ONE);
 590              		.loc 1 314 5 view .LVU130
 591              		.loc 1 314 11 is_stmt 0 view .LVU131
 592 0004 0122     		movs	r2, #1
 593 0006 0DF10701 		add	r1, sp, #7
 594 000a 2720     		movs	r0, #39
 595 000c FFF7FEFF 		bl	lis2dh_read_data
 596              	.LVL59:
 315:Src/lis2dh.c  ****     if (ret)
 597              		.loc 1 315 5 is_stmt 1 view .LVU132
 598              		.loc 1 315 8 is_stmt 0 view .LVU133
 599 0010 40B9     		cbnz	r0, .L48
 316:Src/lis2dh.c  ****     {
 317:Src/lis2dh.c  ****         printf("STATUS_REG_ADDR rd error:%d\r\n",ret);
 318:Src/lis2dh.c  ****         valid = V_ZERO;
 319:Src/lis2dh.c  ****     }
 320:Src/lis2dh.c  ****     else
 321:Src/lis2dh.c  ****     {
 322:Src/lis2dh.c  ****         if (status_reg_value & STATUS_REG_ZYXDA_VALID_MASK)
 600              		.loc 1 322 9 is_stmt 1 view .LVU134
 601              		.loc 1 322 30 is_stmt 0 view .LVU135
 602 0012 9DF80700 		ldrb	r0, [sp, #7]	@ zero_extendqisi2
 603              	.LVL60:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 18


 604              		.loc 1 322 12 view .LVU136
 605 0016 10F04000 		ands	r0, r0, #64
 606 001a 00D0     		beq	.L46
 323:Src/lis2dh.c  ****         {
 324:Src/lis2dh.c  ****             valid = V_ONE;
 607              		.loc 1 324 19 view .LVU137
 608 001c 0120     		movs	r0, #1
 609              	.L46:
 610              	.LVL61:
 325:Src/lis2dh.c  ****         }
 326:Src/lis2dh.c  ****         else
 327:Src/lis2dh.c  ****         {
 328:Src/lis2dh.c  ****             valid = V_ZERO;
 329:Src/lis2dh.c  ****         }
 330:Src/lis2dh.c  ****     }
 331:Src/lis2dh.c  ****     return valid;
 611              		.loc 1 331 5 is_stmt 1 view .LVU138
 332:Src/lis2dh.c  **** }  
 612              		.loc 1 332 1 is_stmt 0 view .LVU139
 613 001e 03B0     		add	sp, sp, #12
 614              	.LCFI22:
 615              		.cfi_remember_state
 616              		.cfi_def_cfa_offset 4
 617              		@ sp needed
 618 0020 5DF804FB 		ldr	pc, [sp], #4
 619              	.LVL62:
 620              	.L48:
 621              	.LCFI23:
 622              		.cfi_restore_state
 623              		.loc 1 332 1 view .LVU140
 624 0024 0146     		mov	r1, r0
 317:Src/lis2dh.c  ****         valid = V_ZERO;
 625              		.loc 1 317 9 is_stmt 1 view .LVU141
 626 0026 0248     		ldr	r0, .L49
 627              	.LVL63:
 317:Src/lis2dh.c  ****         valid = V_ZERO;
 628              		.loc 1 317 9 is_stmt 0 view .LVU142
 629 0028 FFF7FEFF 		bl	printf
 630              	.LVL64:
 318:Src/lis2dh.c  ****     }
 631              		.loc 1 318 9 is_stmt 1 view .LVU143
 318:Src/lis2dh.c  ****     }
 632              		.loc 1 318 15 is_stmt 0 view .LVU144
 633 002c 0020     		movs	r0, #0
 634 002e F6E7     		b	.L46
 635              	.L50:
 636              		.align	2
 637              	.L49:
 638 0030 00000000 		.word	.LC7
 639              		.cfi_endproc
 640              	.LFE323:
 642              		.section	.rodata.lis2dh_raw_data_read.str1.4,"aMS",%progbits,1
 643              		.align	2
 644              	.LC8:
 645 0000 6C697332 		.ascii	"lis2dh_raw_data_read,reg addr:%d error\015\012\000"
 645      64685F72 
 645      61775F64 
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 19


 645      6174615F 
 645      72656164 
 646              		.section	.text.lis2dh_raw_data_read,"ax",%progbits
 647              		.align	1
 648              		.global	lis2dh_raw_data_read
 649              		.syntax unified
 650              		.thumb
 651              		.thumb_func
 652              		.fpu fpv4-sp-d16
 654              	lis2dh_raw_data_read:
 655              	.LVL65:
 656              	.LFB324:
 333:Src/lis2dh.c  **** 
 334:Src/lis2dh.c  **** uint8_t lis2dh_raw_data_read(axis_raw_data_t * axis_raw_data)
 335:Src/lis2dh.c  **** {
 657              		.loc 1 335 1 is_stmt 1 view -0
 658              		.cfi_startproc
 659              		@ args = 0, pretend = 0, frame = 8
 660              		@ frame_needed = 0, uses_anonymous_args = 0
 661              		.loc 1 335 1 is_stmt 0 view .LVU146
 662 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 663              	.LCFI24:
 664              		.cfi_def_cfa_offset 20
 665              		.cfi_offset 4, -20
 666              		.cfi_offset 5, -16
 667              		.cfi_offset 6, -12
 668              		.cfi_offset 7, -8
 669              		.cfi_offset 14, -4
 670 0002 83B0     		sub	sp, sp, #12
 671              	.LCFI25:
 672              		.cfi_def_cfa_offset 32
 673 0004 0746     		mov	r7, r0
 336:Src/lis2dh.c  ****     uint8_t data[XYZ_VALUE];
 674              		.loc 1 336 5 is_stmt 1 view .LVU147
 337:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 675              		.loc 1 337 5 view .LVU148
 676              	.LVL66:
 338:Src/lis2dh.c  **** 
 339:Src/lis2dh.c  ****     for (uint8_t i = I_ZERO; i < XYZ_VALUE; i++)
 677              		.loc 1 339 5 view .LVU149
 678              	.LBB3:
 679              		.loc 1 339 10 view .LVU150
 680              		.loc 1 339 18 is_stmt 0 view .LVU151
 681 0006 0024     		movs	r4, #0
 682              	.LBE3:
 337:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 683              		.loc 1 337 13 view .LVU152
 684 0008 2546     		mov	r5, r4
 685              	.LVL67:
 686              	.L52:
 687              	.LBB4:
 688              		.loc 1 339 30 is_stmt 1 discriminator 1 view .LVU153
 689              		.loc 1 339 5 is_stmt 0 discriminator 1 view .LVU154
 690 000a 052C     		cmp	r4, #5
 691 000c 11D8     		bhi	.L54
 340:Src/lis2dh.c  ****     {
 341:Src/lis2dh.c  ****         ret = lis2dh_read_data(OUT_X_L_ADDR + i, &data[i], L_ONE);  /*read xyz info*/
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 20


 692              		.loc 1 341 9 is_stmt 1 view .LVU155
 693              		.loc 1 341 15 is_stmt 0 view .LVU156
 694 000e 04F12800 		add	r0, r4, #40
 695 0012 0122     		movs	r2, #1
 696 0014 0DEB0401 		add	r1, sp, r4
 697 0018 C0B2     		uxtb	r0, r0
 698 001a FFF7FEFF 		bl	lis2dh_read_data
 699              	.LVL68:
 342:Src/lis2dh.c  ****         if (ret)
 700              		.loc 1 342 9 is_stmt 1 view .LVU157
 701              		.loc 1 342 12 is_stmt 0 view .LVU158
 702 001e 0546     		mov	r5, r0
 703 0020 10B9     		cbnz	r0, .L58
 339:Src/lis2dh.c  ****     {
 704              		.loc 1 339 45 is_stmt 1 discriminator 2 view .LVU159
 339:Src/lis2dh.c  ****     {
 705              		.loc 1 339 46 is_stmt 0 discriminator 2 view .LVU160
 706 0022 0134     		adds	r4, r4, #1
 707              	.LVL69:
 339:Src/lis2dh.c  ****     {
 708              		.loc 1 339 46 discriminator 2 view .LVU161
 709 0024 E4B2     		uxtb	r4, r4
 710              	.LVL70:
 339:Src/lis2dh.c  ****     {
 711              		.loc 1 339 46 discriminator 2 view .LVU162
 712 0026 F0E7     		b	.L52
 713              	.L58:
 343:Src/lis2dh.c  ****         {           
 344:Src/lis2dh.c  ****             printf("lis2dh_raw_data_read,reg addr:%d error\r\n",OUT_X_L_ADDR + i);
 714              		.loc 1 344 13 is_stmt 1 view .LVU163
 715 0028 04F12801 		add	r1, r4, #40
 716 002c 0748     		ldr	r0, .L59
 717              	.LVL71:
 718              		.loc 1 344 13 is_stmt 0 view .LVU164
 719 002e FFF7FEFF 		bl	printf
 720              	.LVL72:
 345:Src/lis2dh.c  ****             break;
 721              		.loc 1 345 13 is_stmt 1 view .LVU165
 722              	.L54:
 723              		.loc 1 345 13 is_stmt 0 view .LVU166
 724              	.LBE4:
 346:Src/lis2dh.c  ****         }    
 347:Src/lis2dh.c  ****     }
 348:Src/lis2dh.c  ****     if (ret == V_ZERO)
 725              		.loc 1 348 5 is_stmt 1 view .LVU167
 726              		.loc 1 348 8 is_stmt 0 view .LVU168
 727 0032 45B9     		cbnz	r5, .L56
 349:Src/lis2dh.c  ****     {
 350:Src/lis2dh.c  ****         axis_raw_data->x = *(int16_t*)data; 
 728              		.loc 1 350 9 is_stmt 1 view .LVU169
 729              		.loc 1 350 28 is_stmt 0 view .LVU170
 730 0034 BDF90030 		ldrsh	r3, [sp]
 731              		.loc 1 350 26 view .LVU171
 732 0038 3B80     		strh	r3, [r7]	@ movhi
 351:Src/lis2dh.c  ****         axis_raw_data->y = *(int16_t*)(data + 2);
 733              		.loc 1 351 9 is_stmt 1 view .LVU172
 734              		.loc 1 351 26 is_stmt 0 view .LVU173
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 21


 735 003a BDF90230 		ldrsh	r3, [sp, #2]
 736 003e 7B80     		strh	r3, [r7, #2]	@ movhi
 352:Src/lis2dh.c  ****         axis_raw_data->z = *(int16_t*)(data + 4);
 737              		.loc 1 352 9 is_stmt 1 view .LVU174
 738              		.loc 1 352 26 is_stmt 0 view .LVU175
 739 0040 BDF90430 		ldrsh	r3, [sp, #4]
 740 0044 BB80     		strh	r3, [r7, #4]	@ movhi
 741              	.L56:
 353:Src/lis2dh.c  ****     }
 354:Src/lis2dh.c  **** 
 355:Src/lis2dh.c  ****     return ret;
 742              		.loc 1 355 5 is_stmt 1 view .LVU176
 356:Src/lis2dh.c  **** }    
 743              		.loc 1 356 1 is_stmt 0 view .LVU177
 744 0046 2846     		mov	r0, r5
 745 0048 03B0     		add	sp, sp, #12
 746              	.LCFI26:
 747              		.cfi_def_cfa_offset 20
 748              		@ sp needed
 749 004a F0BD     		pop	{r4, r5, r6, r7, pc}
 750              	.LVL73:
 751              	.L60:
 752              		.loc 1 356 1 view .LVU178
 753              		.align	2
 754              	.L59:
 755 004c 00000000 		.word	.LC8
 756              		.cfi_endproc
 757              	.LFE324:
 759              		.section	.text.filter_acc,"ax",%progbits
 760              		.align	1
 761              		.global	filter_acc
 762              		.syntax unified
 763              		.thumb
 764              		.thumb_func
 765              		.fpu fpv4-sp-d16
 767              	filter_acc:
 768              	.LFB325:
 357:Src/lis2dh.c  ****  
 358:Src/lis2dh.c  **** /***************************************************************
 359:Src/lis2dh.c  ****   * @brief  This api  read  axis value multiple  times  and calculate   the average val
 360:Src/lis2dh.c  ****   * @param  void
 361:Src/lis2dh.c  ****   * @return void
 362:Src/lis2dh.c  **** **************************************************************/
 363:Src/lis2dh.c  **** void filter_acc(void)
 364:Src/lis2dh.c  **** {
 769              		.loc 1 364 1 is_stmt 1 view -0
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 0
 772              		@ frame_needed = 0, uses_anonymous_args = 0
 773 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 774              	.LCFI27:
 775              		.cfi_def_cfa_offset 24
 776              		.cfi_offset 3, -24
 777              		.cfi_offset 4, -20
 778              		.cfi_offset 5, -16
 779              		.cfi_offset 6, -12
 780              		.cfi_offset 7, -8
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 22


 781              		.cfi_offset 14, -4
 365:Src/lis2dh.c  ****     int16_t x_sum = I_ZERO, y_sum = I_ZERO, z_sum = I_ZERO;	
 782              		.loc 1 365 5 view .LVU180
 783              	.LVL74:
 366:Src/lis2dh.c  ****     
 367:Src/lis2dh.c  ****     for (uint8_t i = I_ZERO; i < FILTER; i++) 
 784              		.loc 1 367 5 view .LVU181
 785              	.LBB5:
 786              		.loc 1 367 10 view .LVU182
 787              		.loc 1 367 18 is_stmt 0 view .LVU183
 788 0002 0024     		movs	r4, #0
 789              	.LBE5:
 365:Src/lis2dh.c  ****     int16_t x_sum = I_ZERO, y_sum = I_ZERO, z_sum = I_ZERO;	
 790              		.loc 1 365 45 view .LVU184
 791 0004 2546     		mov	r5, r4
 365:Src/lis2dh.c  ****     int16_t x_sum = I_ZERO, y_sum = I_ZERO, z_sum = I_ZERO;	
 792              		.loc 1 365 29 view .LVU185
 793 0006 2746     		mov	r7, r4
 365:Src/lis2dh.c  ****     int16_t x_sum = I_ZERO, y_sum = I_ZERO, z_sum = I_ZERO;	
 794              		.loc 1 365 13 view .LVU186
 795 0008 2646     		mov	r6, r4
 796              	.LBB6:
 797              		.loc 1 367 5 view .LVU187
 798 000a 1EE0     		b	.L62
 799              	.LVL75:
 800              	.L63:
 368:Src/lis2dh.c  ****     {
 369:Src/lis2dh.c  ****         get_acc_value();
 801              		.loc 1 369 9 is_stmt 1 discriminator 3 view .LVU188
 802 000c FFF7FEFF 		bl	get_acc_value
 803              	.LVL76:
 370:Src/lis2dh.c  **** 
 371:Src/lis2dh.c  ****         acc_data.info[i].x = acc_sample.x;
 804              		.loc 1 371 9 discriminator 3 view .LVU189
 805              		.loc 1 371 40 is_stmt 0 discriminator 3 view .LVU190
 806 0010 134B     		ldr	r3, .L65
 807 0012 B3F90010 		ldrsh	r1, [r3]
 808              		.loc 1 371 28 discriminator 3 view .LVU191
 809 0016 DFF84CC0 		ldr	ip, .L65+4
 810 001a 04EBC400 		add	r0, r4, r4, lsl #3
 811 001e 4200     		lsls	r2, r0, #1
 812 0020 0CEB0200 		add	r0, ip, r2
 813 0024 2CF80210 		strh	r1, [ip, r2]	@ movhi
 372:Src/lis2dh.c  ****         acc_data.info[i].y = acc_sample.y;
 814              		.loc 1 372 9 is_stmt 1 discriminator 3 view .LVU192
 815              		.loc 1 372 40 is_stmt 0 discriminator 3 view .LVU193
 816 0028 B3F90220 		ldrsh	r2, [r3, #2]
 817              		.loc 1 372 28 discriminator 3 view .LVU194
 818 002c 4280     		strh	r2, [r0, #2]	@ movhi
 373:Src/lis2dh.c  ****         acc_data.info[i].z = acc_sample.z;
 819              		.loc 1 373 9 is_stmt 1 discriminator 3 view .LVU195
 820              		.loc 1 373 40 is_stmt 0 discriminator 3 view .LVU196
 821 002e B3F90430 		ldrsh	r3, [r3, #4]
 822              		.loc 1 373 28 discriminator 3 view .LVU197
 823 0032 8380     		strh	r3, [r0, #4]	@ movhi
 374:Src/lis2dh.c  **** 
 375:Src/lis2dh.c  ****         x_sum += acc_data.info[i].x;
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 23


 824              		.loc 1 375 9 is_stmt 1 discriminator 3 view .LVU198
 825              		.loc 1 375 15 is_stmt 0 discriminator 3 view .LVU199
 826 0034 16FA81F6 		uxtah	r6, r6, r1
 827              	.LVL77:
 828              		.loc 1 375 15 discriminator 3 view .LVU200
 829 0038 36B2     		sxth	r6, r6
 830              	.LVL78:
 376:Src/lis2dh.c  ****         y_sum += acc_data.info[i].y;
 831              		.loc 1 376 9 is_stmt 1 discriminator 3 view .LVU201
 832              		.loc 1 376 15 is_stmt 0 discriminator 3 view .LVU202
 833 003a 17FA82F2 		uxtah	r2, r7, r2
 834 003e 17B2     		sxth	r7, r2
 835              	.LVL79:
 377:Src/lis2dh.c  ****         z_sum += acc_data.info[i].z;
 836              		.loc 1 377 9 is_stmt 1 discriminator 3 view .LVU203
 837              		.loc 1 377 15 is_stmt 0 discriminator 3 view .LVU204
 838 0040 15FA83F3 		uxtah	r3, r5, r3
 839 0044 1DB2     		sxth	r5, r3
 840              	.LVL80:
 367:Src/lis2dh.c  ****     {
 841              		.loc 1 367 42 is_stmt 1 discriminator 3 view .LVU205
 367:Src/lis2dh.c  ****     {
 842              		.loc 1 367 43 is_stmt 0 discriminator 3 view .LVU206
 843 0046 0134     		adds	r4, r4, #1
 844              	.LVL81:
 367:Src/lis2dh.c  ****     {
 845              		.loc 1 367 43 discriminator 3 view .LVU207
 846 0048 E4B2     		uxtb	r4, r4
 847              	.LVL82:
 848              	.L62:
 367:Src/lis2dh.c  ****     {
 849              		.loc 1 367 30 is_stmt 1 discriminator 1 view .LVU208
 367:Src/lis2dh.c  ****     {
 850              		.loc 1 367 5 is_stmt 0 discriminator 1 view .LVU209
 851 004a 032C     		cmp	r4, #3
 852 004c DED9     		bls	.L63
 853              	.LBE6:
 378:Src/lis2dh.c  ****     }
 379:Src/lis2dh.c  ****     acc_sample.x = x_sum / FILTER;
 854              		.loc 1 379 5 is_stmt 1 view .LVU210
 855              		.loc 1 379 26 is_stmt 0 view .LVU211
 856 004e B608     		lsrs	r6, r6, #2
 857              	.LVL83:
 858              		.loc 1 379 18 view .LVU212
 859 0050 0349     		ldr	r1, .L65
 860 0052 0E80     		strh	r6, [r1]	@ movhi
 380:Src/lis2dh.c  ****     acc_sample.y = y_sum / FILTER;
 861              		.loc 1 380 5 is_stmt 1 view .LVU213
 862              		.loc 1 380 26 is_stmt 0 view .LVU214
 863 0054 BA08     		lsrs	r2, r7, #2
 864              		.loc 1 380 18 view .LVU215
 865 0056 4A80     		strh	r2, [r1, #2]	@ movhi
 381:Src/lis2dh.c  ****     acc_sample.z = z_sum / FILTER;	
 866              		.loc 1 381 5 is_stmt 1 view .LVU216
 867              		.loc 1 381 26 is_stmt 0 view .LVU217
 868 0058 AB08     		lsrs	r3, r5, #2
 869              		.loc 1 381 18 view .LVU218
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 24


 870 005a 8B80     		strh	r3, [r1, #4]	@ movhi
 382:Src/lis2dh.c  **** }
 871              		.loc 1 382 1 view .LVU219
 872 005c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 873              	.LVL84:
 874              	.L66:
 875              		.loc 1 382 1 view .LVU220
 876 005e 00BF     		.align	2
 877              	.L65:
 878 0060 00000000 		.word	acc_sample
 879 0064 00000000 		.word	acc_data
 880              		.cfi_endproc
 881              	.LFE325:
 883              		.global	__aeabi_i2d
 884              		.global	__aeabi_dadd
 885              		.global	__aeabi_d2iz
 886              		.global	__aeabi_dmul
 887              		.global	__aeabi_ddiv
 888              		.section	.text.new_angle_calculate,"ax",%progbits
 889              		.align	1
 890              		.global	new_angle_calculate
 891              		.syntax unified
 892              		.thumb
 893              		.thumb_func
 894              		.fpu fpv4-sp-d16
 896              	new_angle_calculate:
 897              	.LFB326:
 383:Src/lis2dh.c  ****  
 384:Src/lis2dh.c  ****  
 385:Src/lis2dh.c  **** /***************************************************************
 386:Src/lis2dh.c  ****   * @brief  new_angle_calculate
 387:Src/lis2dh.c  ****   * @param  
 388:Src/lis2dh.c  ****   * @return 
 389:Src/lis2dh.c  **** **************************************************************/
 390:Src/lis2dh.c  **** void new_angle_calculate(void)
 391:Src/lis2dh.c  **** {
 898              		.loc 1 391 1 is_stmt 1 view -0
 899              		.cfi_startproc
 900              		@ args = 0, pretend = 0, frame = 0
 901              		@ frame_needed = 0, uses_anonymous_args = 0
 902 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 903              	.LCFI28:
 904              		.cfi_def_cfa_offset 24
 905              		.cfi_offset 3, -24
 906              		.cfi_offset 4, -20
 907              		.cfi_offset 5, -16
 908              		.cfi_offset 6, -12
 909              		.cfi_offset 7, -8
 910              		.cfi_offset 14, -4
 911 0002 2DED028B 		vpush.64	{d8}
 912              	.LCFI29:
 913              		.cfi_def_cfa_offset 32
 914              		.cfi_offset 80, -32
 915              		.cfi_offset 81, -28
 392:Src/lis2dh.c  ****     
 393:Src/lis2dh.c  ****     acc_sample.new_angle_x = atan((short)acc_sample.x/(short)sqrt(pow(acc_sample.y, 2)+pow(acc_samp
 916              		.loc 1 393 5 view .LVU222
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 25


 917              		.loc 1 393 52 is_stmt 0 view .LVU223
 918 0006 6E4C     		ldr	r4, .L71+16
 919 0008 B4F90050 		ldrsh	r5, [r4]
 920              		.loc 1 393 67 view .LVU224
 921 000c 9FED688B 		vldr.64	d8, .L71
 922 0010 B4F90200 		ldrsh	r0, [r4, #2]
 923 0014 FFF7FEFF 		bl	__aeabi_i2d
 924              	.LVL85:
 925 0018 B0EE481A 		vmov.f32	s2, s16
 926 001c F0EE681A 		vmov.f32	s3, s17
 927 0020 41EC100B 		vmov	d0, r0, r1
 928 0024 FFF7FEFF 		bl	pow
 929              	.LVL86:
 930 0028 57EC106B 		vmov	r6, r7, d0
 931              		.loc 1 393 88 view .LVU225
 932 002c B4F90400 		ldrsh	r0, [r4, #4]
 933 0030 FFF7FEFF 		bl	__aeabi_i2d
 934              	.LVL87:
 935 0034 B0EE481A 		vmov.f32	s2, s16
 936 0038 F0EE681A 		vmov.f32	s3, s17
 937 003c 41EC100B 		vmov	d0, r0, r1
 938 0040 FFF7FEFF 		bl	pow
 939              	.LVL88:
 940 0044 53EC102B 		vmov	r2, r3, d0
 941              		.loc 1 393 62 view .LVU226
 942 0048 3046     		mov	r0, r6
 943 004a 3946     		mov	r1, r7
 944 004c FFF7FEFF 		bl	__aeabi_dadd
 945              	.LVL89:
 946 0050 41EC100B 		vmov	d0, r0, r1
 947 0054 FFF7FEFF 		bl	sqrt
 948              	.LVL90:
 949 0058 51EC100B 		vmov	r0, r1, d0
 950              		.loc 1 393 55 view .LVU227
 951 005c FFF7FEFF 		bl	__aeabi_d2iz
 952              	.LVL91:
 953 0060 00B2     		sxth	r0, r0
 954              		.loc 1 393 30 view .LVU228
 955 0062 95FBF0F0 		sdiv	r0, r5, r0
 956 0066 FFF7FEFF 		bl	__aeabi_i2d
 957              	.LVL92:
 958 006a 41EC100B 		vmov	d0, r0, r1
 959 006e FFF7FEFF 		bl	atan
 960              	.LVL93:
 961 0072 51EC100B 		vmov	r0, r1, d0
 962              		.loc 1 393 111 view .LVU229
 963 0076 0022     		movs	r2, #0
 964 0078 524B     		ldr	r3, .L71+20
 965 007a FFF7FEFF 		bl	__aeabi_dmul
 966              	.LVL94:
 967              		.loc 1 393 113 view .LVU230
 968 007e 4EA3     		adr	r3, .L71+8
 969 0080 D3E90023 		ldrd	r2, [r3]
 970 0084 FFF7FEFF 		bl	__aeabi_ddiv
 971              	.LVL95:
 972              		.loc 1 393 28 view .LVU231
 973 0088 FFF7FEFF 		bl	__aeabi_d2iz
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 26


 974              	.LVL96:
 975 008c E080     		strh	r0, [r4, #6]	@ movhi
 394:Src/lis2dh.c  ****     acc_sample.new_angle_y = atan((short)acc_sample.y/(short)sqrt(pow(acc_sample.x, 2)+pow(acc_samp
 976              		.loc 1 394 5 is_stmt 1 view .LVU232
 977              		.loc 1 394 52 is_stmt 0 view .LVU233
 978 008e B4F90250 		ldrsh	r5, [r4, #2]
 979              		.loc 1 394 67 view .LVU234
 980 0092 B4F90000 		ldrsh	r0, [r4]
 981 0096 FFF7FEFF 		bl	__aeabi_i2d
 982              	.LVL97:
 983 009a B0EE481A 		vmov.f32	s2, s16
 984 009e F0EE681A 		vmov.f32	s3, s17
 985 00a2 41EC100B 		vmov	d0, r0, r1
 986 00a6 FFF7FEFF 		bl	pow
 987              	.LVL98:
 988 00aa 57EC106B 		vmov	r6, r7, d0
 989              		.loc 1 394 88 view .LVU235
 990 00ae B4F90400 		ldrsh	r0, [r4, #4]
 991 00b2 FFF7FEFF 		bl	__aeabi_i2d
 992              	.LVL99:
 993 00b6 B0EE481A 		vmov.f32	s2, s16
 994 00ba F0EE681A 		vmov.f32	s3, s17
 995 00be 41EC100B 		vmov	d0, r0, r1
 996 00c2 FFF7FEFF 		bl	pow
 997              	.LVL100:
 998 00c6 53EC102B 		vmov	r2, r3, d0
 999              		.loc 1 394 62 view .LVU236
 1000 00ca 3046     		mov	r0, r6
 1001 00cc 3946     		mov	r1, r7
 1002 00ce FFF7FEFF 		bl	__aeabi_dadd
 1003              	.LVL101:
 1004 00d2 41EC100B 		vmov	d0, r0, r1
 1005 00d6 FFF7FEFF 		bl	sqrt
 1006              	.LVL102:
 1007 00da 51EC100B 		vmov	r0, r1, d0
 1008              		.loc 1 394 55 view .LVU237
 1009 00de FFF7FEFF 		bl	__aeabi_d2iz
 1010              	.LVL103:
 1011 00e2 00B2     		sxth	r0, r0
 1012              		.loc 1 394 30 view .LVU238
 1013 00e4 95FBF0F0 		sdiv	r0, r5, r0
 1014 00e8 FFF7FEFF 		bl	__aeabi_i2d
 1015              	.LVL104:
 1016 00ec 41EC100B 		vmov	d0, r0, r1
 1017 00f0 FFF7FEFF 		bl	atan
 1018              	.LVL105:
 1019 00f4 51EC100B 		vmov	r0, r1, d0
 1020              		.loc 1 394 111 view .LVU239
 1021 00f8 0022     		movs	r2, #0
 1022 00fa 324B     		ldr	r3, .L71+20
 1023 00fc FFF7FEFF 		bl	__aeabi_dmul
 1024              	.LVL106:
 1025              		.loc 1 394 113 view .LVU240
 1026 0100 2DA3     		adr	r3, .L71+8
 1027 0102 D3E90023 		ldrd	r2, [r3]
 1028 0106 FFF7FEFF 		bl	__aeabi_ddiv
 1029              	.LVL107:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 27


 1030              		.loc 1 394 28 view .LVU241
 1031 010a FFF7FEFF 		bl	__aeabi_d2iz
 1032              	.LVL108:
 1033 010e 2081     		strh	r0, [r4, #8]	@ movhi
 395:Src/lis2dh.c  ****     acc_sample.new_angle_z = atan((short)acc_sample.z/(short)sqrt(pow(acc_sample.x, 2)+pow(acc_samp
 1034              		.loc 1 395 5 is_stmt 1 view .LVU242
 1035              		.loc 1 395 52 is_stmt 0 view .LVU243
 1036 0110 B4F90450 		ldrsh	r5, [r4, #4]
 1037              		.loc 1 395 67 view .LVU244
 1038 0114 B4F90000 		ldrsh	r0, [r4]
 1039 0118 FFF7FEFF 		bl	__aeabi_i2d
 1040              	.LVL109:
 1041 011c B0EE481A 		vmov.f32	s2, s16
 1042 0120 F0EE681A 		vmov.f32	s3, s17
 1043 0124 41EC100B 		vmov	d0, r0, r1
 1044 0128 FFF7FEFF 		bl	pow
 1045              	.LVL110:
 1046 012c 57EC106B 		vmov	r6, r7, d0
 1047              		.loc 1 395 88 view .LVU245
 1048 0130 B4F90200 		ldrsh	r0, [r4, #2]
 1049 0134 FFF7FEFF 		bl	__aeabi_i2d
 1050              	.LVL111:
 1051 0138 B0EE481A 		vmov.f32	s2, s16
 1052 013c F0EE681A 		vmov.f32	s3, s17
 1053 0140 41EC100B 		vmov	d0, r0, r1
 1054 0144 FFF7FEFF 		bl	pow
 1055              	.LVL112:
 1056 0148 53EC102B 		vmov	r2, r3, d0
 1057              		.loc 1 395 62 view .LVU246
 1058 014c 3046     		mov	r0, r6
 1059 014e 3946     		mov	r1, r7
 1060 0150 FFF7FEFF 		bl	__aeabi_dadd
 1061              	.LVL113:
 1062 0154 41EC100B 		vmov	d0, r0, r1
 1063 0158 FFF7FEFF 		bl	sqrt
 1064              	.LVL114:
 1065 015c 51EC100B 		vmov	r0, r1, d0
 1066              		.loc 1 395 55 view .LVU247
 1067 0160 FFF7FEFF 		bl	__aeabi_d2iz
 1068              	.LVL115:
 1069 0164 00B2     		sxth	r0, r0
 1070              		.loc 1 395 30 view .LVU248
 1071 0166 95FBF0F0 		sdiv	r0, r5, r0
 1072 016a FFF7FEFF 		bl	__aeabi_i2d
 1073              	.LVL116:
 1074 016e 41EC100B 		vmov	d0, r0, r1
 1075 0172 FFF7FEFF 		bl	atan
 1076              	.LVL117:
 1077 0176 51EC100B 		vmov	r0, r1, d0
 1078              		.loc 1 395 111 view .LVU249
 1079 017a 0022     		movs	r2, #0
 1080 017c 114B     		ldr	r3, .L71+20
 1081 017e FFF7FEFF 		bl	__aeabi_dmul
 1082              	.LVL118:
 1083              		.loc 1 395 113 view .LVU250
 1084 0182 0DA3     		adr	r3, .L71+8
 1085 0184 D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 28


 1086 0188 FFF7FEFF 		bl	__aeabi_ddiv
 1087              	.LVL119:
 1088              		.loc 1 395 28 view .LVU251
 1089 018c FFF7FEFF 		bl	__aeabi_d2iz
 1090              	.LVL120:
 1091 0190 00B2     		sxth	r0, r0
 1092 0192 6081     		strh	r0, [r4, #10]	@ movhi
 396:Src/lis2dh.c  ****     if (acc_sample.new_angle_z < I_ZERO)
 1093              		.loc 1 396 5 is_stmt 1 view .LVU252
 1094              		.loc 1 396 8 is_stmt 0 view .LVU253
 1095 0194 0028     		cmp	r0, #0
 1096 0196 02DB     		blt	.L70
 1097              	.L67:
 397:Src/lis2dh.c  ****     {
 398:Src/lis2dh.c  ****         acc_sample.new_angle_x = HALF_ANGLE - acc_sample.new_angle_x;
 399:Src/lis2dh.c  ****         acc_sample.new_angle_y = HALF_ANGLE - acc_sample.new_angle_y;
 400:Src/lis2dh.c  ****     }
 401:Src/lis2dh.c  **** }
 1098              		.loc 1 401 1 view .LVU254
 1099 0198 BDEC028B 		vldm	sp!, {d8}
 1100              	.LCFI30:
 1101              		.cfi_remember_state
 1102              		.cfi_restore 80
 1103              		.cfi_restore 81
 1104              		.cfi_def_cfa_offset 24
 1105 019c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1106              	.L70:
 1107              	.LCFI31:
 1108              		.cfi_restore_state
 398:Src/lis2dh.c  ****         acc_sample.new_angle_y = HALF_ANGLE - acc_sample.new_angle_y;
 1109              		.loc 1 398 9 is_stmt 1 view .LVU255
 398:Src/lis2dh.c  ****         acc_sample.new_angle_y = HALF_ANGLE - acc_sample.new_angle_y;
 1110              		.loc 1 398 57 is_stmt 0 view .LVU256
 1111 019e E288     		ldrh	r2, [r4, #6]
 398:Src/lis2dh.c  ****         acc_sample.new_angle_y = HALF_ANGLE - acc_sample.new_angle_y;
 1112              		.loc 1 398 45 view .LVU257
 1113 01a0 C2F1B402 		rsb	r2, r2, #180
 398:Src/lis2dh.c  ****         acc_sample.new_angle_y = HALF_ANGLE - acc_sample.new_angle_y;
 1114              		.loc 1 398 32 view .LVU258
 1115 01a4 E280     		strh	r2, [r4, #6]	@ movhi
 399:Src/lis2dh.c  ****     }
 1116              		.loc 1 399 9 is_stmt 1 view .LVU259
 399:Src/lis2dh.c  ****     }
 1117              		.loc 1 399 57 is_stmt 0 view .LVU260
 1118 01a6 2289     		ldrh	r2, [r4, #8]
 399:Src/lis2dh.c  ****     }
 1119              		.loc 1 399 45 view .LVU261
 1120 01a8 C2F1B402 		rsb	r2, r2, #180
 399:Src/lis2dh.c  ****     }
 1121              		.loc 1 399 32 view .LVU262
 1122 01ac 2281     		strh	r2, [r4, #8]	@ movhi
 1123              		.loc 1 401 1 view .LVU263
 1124 01ae F3E7     		b	.L67
 1125              	.L72:
 1126              		.align	3
 1127              	.L71:
 1128 01b0 00000000 		.word	0
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 29


 1129 01b4 00000040 		.word	1073741824
 1130 01b8 A7E8482E 		.word	776530087
 1131 01bc FF210940 		.word	1074340351
 1132 01c0 00000000 		.word	acc_sample
 1133 01c4 00806640 		.word	1080459264
 1134              		.cfi_endproc
 1135              	.LFE326:
 1137              		.section	.text.old_angle_calculate,"ax",%progbits
 1138              		.align	1
 1139              		.global	old_angle_calculate
 1140              		.syntax unified
 1141              		.thumb
 1142              		.thumb_func
 1143              		.fpu fpv4-sp-d16
 1145              	old_angle_calculate:
 1146              	.LFB327:
 402:Src/lis2dh.c  ****  
 403:Src/lis2dh.c  **** /***************************************************************
 404:Src/lis2dh.c  ****   * @brief  old_angle_calculate
 405:Src/lis2dh.c  ****   * @param  
 406:Src/lis2dh.c  ****   * @return 
 407:Src/lis2dh.c  **** **************************************************************/
 408:Src/lis2dh.c  **** void old_angle_calculate(void)
 409:Src/lis2dh.c  **** {
 1147              		.loc 1 409 1 is_stmt 1 view -0
 1148              		.cfi_startproc
 1149              		@ args = 0, pretend = 0, frame = 0
 1150              		@ frame_needed = 0, uses_anonymous_args = 0
 1151 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1152              	.LCFI32:
 1153              		.cfi_def_cfa_offset 24
 1154              		.cfi_offset 3, -24
 1155              		.cfi_offset 4, -20
 1156              		.cfi_offset 5, -16
 1157              		.cfi_offset 6, -12
 1158              		.cfi_offset 7, -8
 1159              		.cfi_offset 14, -4
 1160 0002 2DED028B 		vpush.64	{d8}
 1161              	.LCFI33:
 1162              		.cfi_def_cfa_offset 32
 1163              		.cfi_offset 80, -32
 1164              		.cfi_offset 81, -28
 410:Src/lis2dh.c  ****     acc_sample.old_angle_x = atan((short)acc_sample.x/(short)sqrt(pow(acc_sample.y, 2)+pow(acc_samp
 1165              		.loc 1 410 5 view .LVU265
 1166              		.loc 1 410 52 is_stmt 0 view .LVU266
 1167 0006 6E4C     		ldr	r4, .L77+16
 1168 0008 B4F90050 		ldrsh	r5, [r4]
 1169              		.loc 1 410 67 view .LVU267
 1170 000c 9FED688B 		vldr.64	d8, .L77
 1171 0010 B4F90200 		ldrsh	r0, [r4, #2]
 1172 0014 FFF7FEFF 		bl	__aeabi_i2d
 1173              	.LVL121:
 1174 0018 B0EE481A 		vmov.f32	s2, s16
 1175 001c F0EE681A 		vmov.f32	s3, s17
 1176 0020 41EC100B 		vmov	d0, r0, r1
 1177 0024 FFF7FEFF 		bl	pow
 1178              	.LVL122:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 30


 1179 0028 57EC106B 		vmov	r6, r7, d0
 1180              		.loc 1 410 88 view .LVU268
 1181 002c B4F90400 		ldrsh	r0, [r4, #4]
 1182 0030 FFF7FEFF 		bl	__aeabi_i2d
 1183              	.LVL123:
 1184 0034 B0EE481A 		vmov.f32	s2, s16
 1185 0038 F0EE681A 		vmov.f32	s3, s17
 1186 003c 41EC100B 		vmov	d0, r0, r1
 1187 0040 FFF7FEFF 		bl	pow
 1188              	.LVL124:
 1189 0044 53EC102B 		vmov	r2, r3, d0
 1190              		.loc 1 410 62 view .LVU269
 1191 0048 3046     		mov	r0, r6
 1192 004a 3946     		mov	r1, r7
 1193 004c FFF7FEFF 		bl	__aeabi_dadd
 1194              	.LVL125:
 1195 0050 41EC100B 		vmov	d0, r0, r1
 1196 0054 FFF7FEFF 		bl	sqrt
 1197              	.LVL126:
 1198 0058 51EC100B 		vmov	r0, r1, d0
 1199              		.loc 1 410 55 view .LVU270
 1200 005c FFF7FEFF 		bl	__aeabi_d2iz
 1201              	.LVL127:
 1202 0060 00B2     		sxth	r0, r0
 1203              		.loc 1 410 30 view .LVU271
 1204 0062 95FBF0F0 		sdiv	r0, r5, r0
 1205 0066 FFF7FEFF 		bl	__aeabi_i2d
 1206              	.LVL128:
 1207 006a 41EC100B 		vmov	d0, r0, r1
 1208 006e FFF7FEFF 		bl	atan
 1209              	.LVL129:
 1210 0072 51EC100B 		vmov	r0, r1, d0
 1211              		.loc 1 410 111 view .LVU272
 1212 0076 0022     		movs	r2, #0
 1213 0078 524B     		ldr	r3, .L77+20
 1214 007a FFF7FEFF 		bl	__aeabi_dmul
 1215              	.LVL130:
 1216              		.loc 1 410 113 view .LVU273
 1217 007e 4EA3     		adr	r3, .L77+8
 1218 0080 D3E90023 		ldrd	r2, [r3]
 1219 0084 FFF7FEFF 		bl	__aeabi_ddiv
 1220              	.LVL131:
 1221              		.loc 1 410 28 view .LVU274
 1222 0088 FFF7FEFF 		bl	__aeabi_d2iz
 1223              	.LVL132:
 1224 008c A081     		strh	r0, [r4, #12]	@ movhi
 411:Src/lis2dh.c  ****     acc_sample.old_angle_y = atan((short)acc_sample.y/(short)sqrt(pow(acc_sample.x, 2)+pow(acc_samp
 1225              		.loc 1 411 5 is_stmt 1 view .LVU275
 1226              		.loc 1 411 52 is_stmt 0 view .LVU276
 1227 008e B4F90250 		ldrsh	r5, [r4, #2]
 1228              		.loc 1 411 67 view .LVU277
 1229 0092 B4F90000 		ldrsh	r0, [r4]
 1230 0096 FFF7FEFF 		bl	__aeabi_i2d
 1231              	.LVL133:
 1232 009a B0EE481A 		vmov.f32	s2, s16
 1233 009e F0EE681A 		vmov.f32	s3, s17
 1234 00a2 41EC100B 		vmov	d0, r0, r1
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 31


 1235 00a6 FFF7FEFF 		bl	pow
 1236              	.LVL134:
 1237 00aa 57EC106B 		vmov	r6, r7, d0
 1238              		.loc 1 411 88 view .LVU278
 1239 00ae B4F90400 		ldrsh	r0, [r4, #4]
 1240 00b2 FFF7FEFF 		bl	__aeabi_i2d
 1241              	.LVL135:
 1242 00b6 B0EE481A 		vmov.f32	s2, s16
 1243 00ba F0EE681A 		vmov.f32	s3, s17
 1244 00be 41EC100B 		vmov	d0, r0, r1
 1245 00c2 FFF7FEFF 		bl	pow
 1246              	.LVL136:
 1247 00c6 53EC102B 		vmov	r2, r3, d0
 1248              		.loc 1 411 62 view .LVU279
 1249 00ca 3046     		mov	r0, r6
 1250 00cc 3946     		mov	r1, r7
 1251 00ce FFF7FEFF 		bl	__aeabi_dadd
 1252              	.LVL137:
 1253 00d2 41EC100B 		vmov	d0, r0, r1
 1254 00d6 FFF7FEFF 		bl	sqrt
 1255              	.LVL138:
 1256 00da 51EC100B 		vmov	r0, r1, d0
 1257              		.loc 1 411 55 view .LVU280
 1258 00de FFF7FEFF 		bl	__aeabi_d2iz
 1259              	.LVL139:
 1260 00e2 00B2     		sxth	r0, r0
 1261              		.loc 1 411 30 view .LVU281
 1262 00e4 95FBF0F0 		sdiv	r0, r5, r0
 1263 00e8 FFF7FEFF 		bl	__aeabi_i2d
 1264              	.LVL140:
 1265 00ec 41EC100B 		vmov	d0, r0, r1
 1266 00f0 FFF7FEFF 		bl	atan
 1267              	.LVL141:
 1268 00f4 51EC100B 		vmov	r0, r1, d0
 1269              		.loc 1 411 111 view .LVU282
 1270 00f8 0022     		movs	r2, #0
 1271 00fa 324B     		ldr	r3, .L77+20
 1272 00fc FFF7FEFF 		bl	__aeabi_dmul
 1273              	.LVL142:
 1274              		.loc 1 411 113 view .LVU283
 1275 0100 2DA3     		adr	r3, .L77+8
 1276 0102 D3E90023 		ldrd	r2, [r3]
 1277 0106 FFF7FEFF 		bl	__aeabi_ddiv
 1278              	.LVL143:
 1279              		.loc 1 411 28 view .LVU284
 1280 010a FFF7FEFF 		bl	__aeabi_d2iz
 1281              	.LVL144:
 1282 010e E081     		strh	r0, [r4, #14]	@ movhi
 412:Src/lis2dh.c  ****     acc_sample.old_angle_z = atan((short)acc_sample.z/(short)sqrt(pow(acc_sample.x, 2)+pow(acc_samp
 1283              		.loc 1 412 5 is_stmt 1 view .LVU285
 1284              		.loc 1 412 52 is_stmt 0 view .LVU286
 1285 0110 B4F90450 		ldrsh	r5, [r4, #4]
 1286              		.loc 1 412 67 view .LVU287
 1287 0114 B4F90000 		ldrsh	r0, [r4]
 1288 0118 FFF7FEFF 		bl	__aeabi_i2d
 1289              	.LVL145:
 1290 011c B0EE481A 		vmov.f32	s2, s16
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 32


 1291 0120 F0EE681A 		vmov.f32	s3, s17
 1292 0124 41EC100B 		vmov	d0, r0, r1
 1293 0128 FFF7FEFF 		bl	pow
 1294              	.LVL146:
 1295 012c 57EC106B 		vmov	r6, r7, d0
 1296              		.loc 1 412 88 view .LVU288
 1297 0130 B4F90200 		ldrsh	r0, [r4, #2]
 1298 0134 FFF7FEFF 		bl	__aeabi_i2d
 1299              	.LVL147:
 1300 0138 B0EE481A 		vmov.f32	s2, s16
 1301 013c F0EE681A 		vmov.f32	s3, s17
 1302 0140 41EC100B 		vmov	d0, r0, r1
 1303 0144 FFF7FEFF 		bl	pow
 1304              	.LVL148:
 1305 0148 53EC102B 		vmov	r2, r3, d0
 1306              		.loc 1 412 62 view .LVU289
 1307 014c 3046     		mov	r0, r6
 1308 014e 3946     		mov	r1, r7
 1309 0150 FFF7FEFF 		bl	__aeabi_dadd
 1310              	.LVL149:
 1311 0154 41EC100B 		vmov	d0, r0, r1
 1312 0158 FFF7FEFF 		bl	sqrt
 1313              	.LVL150:
 1314 015c 51EC100B 		vmov	r0, r1, d0
 1315              		.loc 1 412 55 view .LVU290
 1316 0160 FFF7FEFF 		bl	__aeabi_d2iz
 1317              	.LVL151:
 1318 0164 00B2     		sxth	r0, r0
 1319              		.loc 1 412 30 view .LVU291
 1320 0166 95FBF0F0 		sdiv	r0, r5, r0
 1321 016a FFF7FEFF 		bl	__aeabi_i2d
 1322              	.LVL152:
 1323 016e 41EC100B 		vmov	d0, r0, r1
 1324 0172 FFF7FEFF 		bl	atan
 1325              	.LVL153:
 1326 0176 51EC100B 		vmov	r0, r1, d0
 1327              		.loc 1 412 111 view .LVU292
 1328 017a 0022     		movs	r2, #0
 1329 017c 114B     		ldr	r3, .L77+20
 1330 017e FFF7FEFF 		bl	__aeabi_dmul
 1331              	.LVL154:
 1332              		.loc 1 412 113 view .LVU293
 1333 0182 0DA3     		adr	r3, .L77+8
 1334 0184 D3E90023 		ldrd	r2, [r3]
 1335 0188 FFF7FEFF 		bl	__aeabi_ddiv
 1336              	.LVL155:
 1337              		.loc 1 412 28 view .LVU294
 1338 018c FFF7FEFF 		bl	__aeabi_d2iz
 1339              	.LVL156:
 1340 0190 00B2     		sxth	r0, r0
 1341 0192 2082     		strh	r0, [r4, #16]	@ movhi
 413:Src/lis2dh.c  ****     if (acc_sample.old_angle_z < I_ZERO)
 1342              		.loc 1 413 5 is_stmt 1 view .LVU295
 1343              		.loc 1 413 8 is_stmt 0 view .LVU296
 1344 0194 0028     		cmp	r0, #0
 1345 0196 02DB     		blt	.L76
 1346              	.L73:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 33


 414:Src/lis2dh.c  ****     {
 415:Src/lis2dh.c  ****         acc_sample.old_angle_x = HALF_ANGLE - acc_sample.old_angle_x;
 416:Src/lis2dh.c  ****         acc_sample.old_angle_y = HALF_ANGLE - acc_sample.old_angle_y;
 417:Src/lis2dh.c  ****     }
 418:Src/lis2dh.c  **** }
 1347              		.loc 1 418 1 view .LVU297
 1348 0198 BDEC028B 		vldm	sp!, {d8}
 1349              	.LCFI34:
 1350              		.cfi_remember_state
 1351              		.cfi_restore 80
 1352              		.cfi_restore 81
 1353              		.cfi_def_cfa_offset 24
 1354 019c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1355              	.L76:
 1356              	.LCFI35:
 1357              		.cfi_restore_state
 415:Src/lis2dh.c  ****         acc_sample.old_angle_y = HALF_ANGLE - acc_sample.old_angle_y;
 1358              		.loc 1 415 9 is_stmt 1 view .LVU298
 415:Src/lis2dh.c  ****         acc_sample.old_angle_y = HALF_ANGLE - acc_sample.old_angle_y;
 1359              		.loc 1 415 57 is_stmt 0 view .LVU299
 1360 019e A289     		ldrh	r2, [r4, #12]
 415:Src/lis2dh.c  ****         acc_sample.old_angle_y = HALF_ANGLE - acc_sample.old_angle_y;
 1361              		.loc 1 415 45 view .LVU300
 1362 01a0 C2F1B402 		rsb	r2, r2, #180
 415:Src/lis2dh.c  ****         acc_sample.old_angle_y = HALF_ANGLE - acc_sample.old_angle_y;
 1363              		.loc 1 415 32 view .LVU301
 1364 01a4 A281     		strh	r2, [r4, #12]	@ movhi
 416:Src/lis2dh.c  ****     }
 1365              		.loc 1 416 9 is_stmt 1 view .LVU302
 416:Src/lis2dh.c  ****     }
 1366              		.loc 1 416 57 is_stmt 0 view .LVU303
 1367 01a6 E289     		ldrh	r2, [r4, #14]
 416:Src/lis2dh.c  ****     }
 1368              		.loc 1 416 45 view .LVU304
 1369 01a8 C2F1B402 		rsb	r2, r2, #180
 416:Src/lis2dh.c  ****     }
 1370              		.loc 1 416 32 view .LVU305
 1371 01ac E281     		strh	r2, [r4, #14]	@ movhi
 1372              		.loc 1 418 1 view .LVU306
 1373 01ae F3E7     		b	.L73
 1374              	.L78:
 1375              		.align	3
 1376              	.L77:
 1377 01b0 00000000 		.word	0
 1378 01b4 00000040 		.word	1073741824
 1379 01b8 A7E8482E 		.word	776530087
 1380 01bc FF210940 		.word	1074340351
 1381 01c0 00000000 		.word	acc_sample
 1382 01c4 00806640 		.word	1080459264
 1383              		.cfi_endproc
 1384              	.LFE327:
 1386              		.section	.rodata.lis2dh_init.str1.4,"aMS",%progbits,1
 1387              		.align	2
 1388              	.LC9:
 1389 0000 6C697332 		.ascii	"lis2dh id:0x%x wrong\015\012\000"
 1389      64682069 
 1389      643A3078 
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 34


 1389      25782077 
 1389      726F6E67 
 1390              		.section	.text.lis2dh_init,"ax",%progbits
 1391              		.align	1
 1392              		.global	lis2dh_init
 1393              		.syntax unified
 1394              		.thumb
 1395              		.thumb_func
 1396              		.fpu fpv4-sp-d16
 1398              	lis2dh_init:
 1399              	.LFB318:
 128:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 1400              		.loc 1 128 1 is_stmt 1 view -0
 1401              		.cfi_startproc
 1402              		@ args = 0, pretend = 0, frame = 8
 1403              		@ frame_needed = 0, uses_anonymous_args = 0
 1404 0000 10B5     		push	{r4, lr}
 1405              	.LCFI36:
 1406              		.cfi_def_cfa_offset 8
 1407              		.cfi_offset 4, -8
 1408              		.cfi_offset 14, -4
 1409 0002 82B0     		sub	sp, sp, #8
 1410              	.LCFI37:
 1411              		.cfi_def_cfa_offset 16
 129:Src/lis2dh.c  ****     uint8_t CTRL_REG1 = LIS2DH_CTRL_REG1;       /*50Hz Data Rate,lowpower mode ,x/y/z can use*/
 1412              		.loc 1 129 5 view .LVU308
 1413              	.LVL157:
 130:Src/lis2dh.c  ****     uint8_t CTRL_REG2 = LIS2DH_CTRL_REG2;       /*INT1 use High-pass*/
 1414              		.loc 1 130 5 view .LVU309
 130:Src/lis2dh.c  ****     uint8_t CTRL_REG2 = LIS2DH_CTRL_REG2;       /*INT1 use High-pass*/
 1415              		.loc 1 130 13 is_stmt 0 view .LVU310
 1416 0004 4F23     		movs	r3, #79
 1417 0006 8DF80730 		strb	r3, [sp, #7]
 131:Src/lis2dh.c  ****     uint8_t CTRL_REG3 = LIS2DH_CTRL_REG3;       /*INT1 interrupt*/
 1418              		.loc 1 131 5 is_stmt 1 view .LVU311
 131:Src/lis2dh.c  ****     uint8_t CTRL_REG3 = LIS2DH_CTRL_REG3;       /*INT1 interrupt*/
 1419              		.loc 1 131 13 is_stmt 0 view .LVU312
 1420 000a 0923     		movs	r3, #9
 1421 000c 8DF80630 		strb	r3, [sp, #6]
 132:Src/lis2dh.c  ****     uint8_t CTRL_REG4 = LIS2DH_CTRL_REG4;
 1422              		.loc 1 132 5 is_stmt 1 view .LVU313
 132:Src/lis2dh.c  ****     uint8_t CTRL_REG4 = LIS2DH_CTRL_REG4;
 1423              		.loc 1 132 13 is_stmt 0 view .LVU314
 1424 0010 4023     		movs	r3, #64
 1425 0012 8DF80530 		strb	r3, [sp, #5]
 133:Src/lis2dh.c  ****     uint8_t INT1_CFG = LIS2DH_INT1_CFG;       /*enable ,x/y/z cover interrupt*/
 1426              		.loc 1 133 5 is_stmt 1 view .LVU315
 133:Src/lis2dh.c  ****     uint8_t INT1_CFG = LIS2DH_INT1_CFG;       /*enable ,x/y/z cover interrupt*/
 1427              		.loc 1 133 13 is_stmt 0 view .LVU316
 1428 0016 0023     		movs	r3, #0
 1429 0018 8DF80430 		strb	r3, [sp, #4]
 134:Src/lis2dh.c  ****     uint8_t INT1_THS = LIS2DH_DEFAULT_THRESHOLD;       /*Interruption threshold*/
 1430              		.loc 1 134 5 is_stmt 1 view .LVU317
 134:Src/lis2dh.c  ****     uint8_t INT1_THS = LIS2DH_DEFAULT_THRESHOLD;       /*Interruption threshold*/
 1431              		.loc 1 134 13 is_stmt 0 view .LVU318
 1432 001c 2A23     		movs	r3, #42
 1433 001e 8DF80330 		strb	r3, [sp, #3]
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 35


 135:Src/lis2dh.c  ****     uint8_t INT1_DURATION = LIS2DH_INT1_DURATION;   /*Interrupt immediately when exceeding*/
 1434              		.loc 1 135 5 is_stmt 1 view .LVU319
 135:Src/lis2dh.c  ****     uint8_t INT1_DURATION = LIS2DH_INT1_DURATION;   /*Interrupt immediately when exceeding*/
 1435              		.loc 1 135 13 is_stmt 0 view .LVU320
 1436 0022 3223     		movs	r3, #50
 1437 0024 8DF80230 		strb	r3, [sp, #2]
 136:Src/lis2dh.c  ****     uint8_t id;
 1438              		.loc 1 136 5 is_stmt 1 view .LVU321
 136:Src/lis2dh.c  ****     uint8_t id;
 1439              		.loc 1 136 13 is_stmt 0 view .LVU322
 1440 0028 0223     		movs	r3, #2
 1441 002a 8DF80130 		strb	r3, [sp, #1]
 137:Src/lis2dh.c  **** 
 1442              		.loc 1 137 5 is_stmt 1 view .LVU323
 139:Src/lis2dh.c  ****     if (LIS2DH_WHO_AM_I != id)
 1443              		.loc 1 139 5 view .LVU324
 139:Src/lis2dh.c  ****     if (LIS2DH_WHO_AM_I != id)
 1444              		.loc 1 139 10 is_stmt 0 view .LVU325
 1445 002e FFF7FEFF 		bl	lis2dh_rd_id
 1446              	.LVL158:
 140:Src/lis2dh.c  ****     {
 1447              		.loc 1 140 5 is_stmt 1 view .LVU326
 140:Src/lis2dh.c  ****     {
 1448              		.loc 1 140 8 is_stmt 0 view .LVU327
 1449 0032 3328     		cmp	r0, #51
 1450 0034 07D0     		beq	.L80
 1451 0036 0146     		mov	r1, r0
 142:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 1452              		.loc 1 142 9 is_stmt 1 view .LVU328
 1453 0038 2548     		ldr	r0, .L97
 1454              	.LVL159:
 142:Src/lis2dh.c  ****         return LIS2DH_ERROR;
 1455              		.loc 1 142 9 is_stmt 0 view .LVU329
 1456 003a FFF7FEFF 		bl	printf
 1457              	.LVL160:
 143:Src/lis2dh.c  ****     }
 1458              		.loc 1 143 9 is_stmt 1 view .LVU330
 143:Src/lis2dh.c  ****     }
 1459              		.loc 1 143 16 is_stmt 0 view .LVU331
 1460 003e 0124     		movs	r4, #1
 1461              	.LVL161:
 1462              	.L81:
 192:Src/lis2dh.c  **** 
 1463              		.loc 1 192 1 view .LVU332
 1464 0040 2046     		mov	r0, r4
 1465 0042 02B0     		add	sp, sp, #8
 1466              	.LCFI38:
 1467              		.cfi_remember_state
 1468              		.cfi_def_cfa_offset 8
 1469              		@ sp needed
 1470 0044 10BD     		pop	{r4, pc}
 1471              	.LVL162:
 1472              	.L80:
 1473              	.LCFI39:
 1474              		.cfi_restore_state
 146:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1475              		.loc 1 146 5 is_stmt 1 view .LVU333
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 36


 146:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1476              		.loc 1 146 11 is_stmt 0 view .LVU334
 1477 0046 0122     		movs	r2, #1
 1478 0048 0DF10701 		add	r1, sp, #7
 1479 004c 2020     		movs	r0, #32
 1480              	.LVL163:
 146:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1481              		.loc 1 146 11 view .LVU335
 1482 004e FFF7FEFF 		bl	lis2dh_write_data
 1483              	.LVL164:
 147:Src/lis2dh.c  ****     {
 1484              		.loc 1 147 5 is_stmt 1 view .LVU336
 147:Src/lis2dh.c  ****     {
 1485              		.loc 1 147 8 is_stmt 0 view .LVU337
 1486 0052 08B1     		cbz	r0, .L90
 149:Src/lis2dh.c  ****     }
 1487              		.loc 1 149 16 view .LVU338
 1488 0054 0124     		movs	r4, #1
 1489 0056 F3E7     		b	.L81
 1490              	.L90:
 152:Src/lis2dh.c  **** 
 1491              		.loc 1 152 5 is_stmt 1 view .LVU339
 152:Src/lis2dh.c  **** 
 1492              		.loc 1 152 11 is_stmt 0 view .LVU340
 1493 0058 0122     		movs	r2, #1
 1494 005a 0DF10601 		add	r1, sp, #6
 1495 005e 2120     		movs	r0, #33
 1496              	.LVL165:
 152:Src/lis2dh.c  **** 
 1497              		.loc 1 152 11 view .LVU341
 1498 0060 FFF7FEFF 		bl	lis2dh_write_data
 1499              	.LVL166:
 154:Src/lis2dh.c  ****     {
 1500              		.loc 1 154 5 is_stmt 1 view .LVU342
 154:Src/lis2dh.c  ****     {
 1501              		.loc 1 154 8 is_stmt 0 view .LVU343
 1502 0064 08B1     		cbz	r0, .L91
 156:Src/lis2dh.c  ****     }
 1503              		.loc 1 156 16 view .LVU344
 1504 0066 0124     		movs	r4, #1
 1505 0068 EAE7     		b	.L81
 1506              	.L91:
 159:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1507              		.loc 1 159 5 is_stmt 1 view .LVU345
 159:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1508              		.loc 1 159 11 is_stmt 0 view .LVU346
 1509 006a 0122     		movs	r2, #1
 1510 006c 0DF10501 		add	r1, sp, #5
 1511 0070 2220     		movs	r0, #34
 1512              	.LVL167:
 159:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1513              		.loc 1 159 11 view .LVU347
 1514 0072 FFF7FEFF 		bl	lis2dh_write_data
 1515              	.LVL168:
 160:Src/lis2dh.c  ****     {
 1516              		.loc 1 160 5 is_stmt 1 view .LVU348
 160:Src/lis2dh.c  ****     {
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 37


 1517              		.loc 1 160 8 is_stmt 0 view .LVU349
 1518 0076 08B1     		cbz	r0, .L92
 162:Src/lis2dh.c  ****     }
 1519              		.loc 1 162 16 view .LVU350
 1520 0078 0124     		movs	r4, #1
 1521 007a E1E7     		b	.L81
 1522              	.L92:
 165:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1523              		.loc 1 165 5 is_stmt 1 view .LVU351
 165:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1524              		.loc 1 165 11 is_stmt 0 view .LVU352
 1525 007c 0122     		movs	r2, #1
 1526 007e 01A9     		add	r1, sp, #4
 1527 0080 2320     		movs	r0, #35
 1528              	.LVL169:
 165:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1529              		.loc 1 165 11 view .LVU353
 1530 0082 FFF7FEFF 		bl	lis2dh_write_data
 1531              	.LVL170:
 166:Src/lis2dh.c  ****     {
 1532              		.loc 1 166 5 is_stmt 1 view .LVU354
 166:Src/lis2dh.c  ****     {
 1533              		.loc 1 166 8 is_stmt 0 view .LVU355
 1534 0086 08B1     		cbz	r0, .L93
 168:Src/lis2dh.c  ****     }
 1535              		.loc 1 168 16 view .LVU356
 1536 0088 0124     		movs	r4, #1
 1537 008a D9E7     		b	.L81
 1538              	.L93:
 171:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1539              		.loc 1 171 5 is_stmt 1 view .LVU357
 171:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1540              		.loc 1 171 11 is_stmt 0 view .LVU358
 1541 008c 0122     		movs	r2, #1
 1542 008e 0DF10301 		add	r1, sp, #3
 1543 0092 3020     		movs	r0, #48
 1544              	.LVL171:
 171:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1545              		.loc 1 171 11 view .LVU359
 1546 0094 FFF7FEFF 		bl	lis2dh_write_data
 1547              	.LVL172:
 172:Src/lis2dh.c  ****     {
 1548              		.loc 1 172 5 is_stmt 1 view .LVU360
 172:Src/lis2dh.c  ****     {
 1549              		.loc 1 172 8 is_stmt 0 view .LVU361
 1550 0098 08B1     		cbz	r0, .L94
 174:Src/lis2dh.c  ****     }
 1551              		.loc 1 174 16 view .LVU362
 1552 009a 0124     		movs	r4, #1
 1553 009c D0E7     		b	.L81
 1554              	.L94:
 177:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1555              		.loc 1 177 5 is_stmt 1 view .LVU363
 177:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1556              		.loc 1 177 11 is_stmt 0 view .LVU364
 1557 009e 0122     		movs	r2, #1
 1558 00a0 0DF10201 		add	r1, sp, #2
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 38


 1559 00a4 3220     		movs	r0, #50
 1560              	.LVL173:
 177:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1561              		.loc 1 177 11 view .LVU365
 1562 00a6 FFF7FEFF 		bl	lis2dh_write_data
 1563              	.LVL174:
 178:Src/lis2dh.c  ****     {
 1564              		.loc 1 178 5 is_stmt 1 view .LVU366
 178:Src/lis2dh.c  ****     {
 1565              		.loc 1 178 8 is_stmt 0 view .LVU367
 1566 00aa 08B1     		cbz	r0, .L95
 180:Src/lis2dh.c  ****     }
 1567              		.loc 1 180 16 view .LVU368
 1568 00ac 0124     		movs	r4, #1
 1569 00ae C7E7     		b	.L81
 1570              	.L95:
 183:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1571              		.loc 1 183 5 is_stmt 1 view .LVU369
 183:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1572              		.loc 1 183 11 is_stmt 0 view .LVU370
 1573 00b0 0122     		movs	r2, #1
 1574 00b2 0DEB0201 		add	r1, sp, r2
 1575 00b6 3320     		movs	r0, #51
 1576              	.LVL175:
 183:Src/lis2dh.c  ****     if (ret != LIS2DH_SUCCREE)
 1577              		.loc 1 183 11 view .LVU371
 1578 00b8 FFF7FEFF 		bl	lis2dh_write_data
 1579              	.LVL176:
 184:Src/lis2dh.c  ****     {
 1580              		.loc 1 184 5 is_stmt 1 view .LVU372
 184:Src/lis2dh.c  ****     {
 1581              		.loc 1 184 8 is_stmt 0 view .LVU373
 1582 00bc 0446     		mov	r4, r0
 1583 00be 08B1     		cbz	r0, .L96
 186:Src/lis2dh.c  ****     }
 1584              		.loc 1 186 16 view .LVU374
 1585 00c0 0124     		movs	r4, #1
 1586 00c2 BDE7     		b	.L81
 1587              	.L96:
 189:Src/lis2dh.c  ****     old_angle_calculate();
 1588              		.loc 1 189 4 is_stmt 1 view .LVU375
 1589 00c4 FFF7FEFF 		bl	filter_acc
 1590              	.LVL177:
 190:Src/lis2dh.c  ****     return LIS2DH_SUCCESS;
 1591              		.loc 1 190 5 view .LVU376
 1592 00c8 FFF7FEFF 		bl	old_angle_calculate
 1593              	.LVL178:
 191:Src/lis2dh.c  **** }
 1594              		.loc 1 191 5 view .LVU377
 191:Src/lis2dh.c  **** }
 1595              		.loc 1 191 12 is_stmt 0 view .LVU378
 1596 00cc B8E7     		b	.L81
 1597              	.L98:
 1598 00ce 00BF     		.align	2
 1599              	.L97:
 1600 00d0 00000000 		.word	.LC9
 1601              		.cfi_endproc
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 39


 1602              	.LFE318:
 1604              		.section	.rodata.lis2dh_self_test.str1.4,"aMS",%progbits,1
 1605              		.align	2
 1606              	.LC10:
 1607 0000 666C6F77 		.ascii	"flow:%d,GRTL_REG1_ADDR wr error:%d\015\012\000"
 1607      3A25642C 
 1607      4752544C 
 1607      5F524547 
 1607      315F4144 
 1608 0025 000000   		.align	2
 1609              	.LC11:
 1610 0028 666C6F77 		.ascii	"flow:%d,GRTL_REG2_ADDR wr error:%d\015\012\000"
 1610      3A25642C 
 1610      4752544C 
 1610      5F524547 
 1610      325F4144 
 1611 004d 000000   		.align	2
 1612              	.LC12:
 1613 0050 666C6F77 		.ascii	"flow:%d,GRTL_REG3_ADDR wr error:%d\015\012\000"
 1613      3A25642C 
 1613      4752544C 
 1613      5F524547 
 1613      335F4144 
 1614 0075 000000   		.align	2
 1615              	.LC13:
 1616 0078 666C6F77 		.ascii	"flow:%d,GRTL_REG4_ADDR wr error:%d\015\012\000"
 1616      3A25642C 
 1616      4752544C 
 1616      5F524547 
 1616      345F4144 
 1617 009d 000000   		.align	2
 1618              	.LC14:
 1619 00a0 666C6F77 		.ascii	"flow:%d,INT1_THS_REG wr error:%d\015\012\000"
 1619      3A25642C 
 1619      494E5431 
 1619      5F544853 
 1619      5F524547 
 1620 00c3 00       		.align	2
 1621              	.LC15:
 1622 00c4 77616974 		.ascii	"wait lis2dh data valid,retry_count timeout\015\000"
 1622      206C6973 
 1622      32646820 
 1622      64617461 
 1622      2076616C 
 1623              		.align	2
 1624              	.LC16:
 1625 00f0 6F757478 		.ascii	"outx_st:%d,outx_nost:%d,outx_st - outx_nost:%d\015\012"
 1625      5F73743A 
 1625      25642C6F 
 1625      7574785F 
 1625      6E6F7374 
 1626 0120 00       		.ascii	"\000"
 1627 0121 000000   		.align	2
 1628              	.LC17:
 1629 0124 6F757479 		.ascii	"outy_st:%d,outy_nost:%d,outy_st - outy_nost:%d\015\012"
 1629      5F73743A 
 1629      25642C6F 
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 40


 1629      7574795F 
 1629      6E6F7374 
 1630 0154 00       		.ascii	"\000"
 1631 0155 000000   		.align	2
 1632              	.LC18:
 1633 0158 6F75747A 		.ascii	"outz_st:%d,outz_nost:%d,outz_st - outz_nost:%d\015\012"
 1633      5F73743A 
 1633      25642C6F 
 1633      75747A5F 
 1633      6E6F7374 
 1634 0188 00       		.ascii	"\000"
 1635 0189 000000   		.align	2
 1636              	.LC19:
 1637 018c 2A2A2A2A 		.ascii	"************lis2dh self_test pass************\015\012"
 1637      2A2A2A2A 
 1637      2A2A2A2A 
 1637      6C697332 
 1637      64682073 
 1638 01bb 00       		.ascii	"\000"
 1639              		.align	2
 1640              	.LC20:
 1641 01bc 2A2A2A2A 		.ascii	"************lis2dh self_test fail************\015\000"
 1641      2A2A2A2A 
 1641      2A2A2A2A 
 1641      6C697332 
 1641      64682073 
 1642 01eb 00       		.align	2
 1643              	.LC21:
 1644 01ec 64656661 		.ascii	"default lis2dh self_test flow %d\015\012\000"
 1644      756C7420 
 1644      6C697332 
 1644      64682073 
 1644      656C665F 
 1645              		.section	.text.lis2dh_self_test,"ax",%progbits
 1646              		.align	1
 1647              		.global	lis2dh_self_test
 1648              		.syntax unified
 1649              		.thumb
 1650              		.thumb_func
 1651              		.fpu fpv4-sp-d16
 1653              	lis2dh_self_test:
 1654              	.LVL179:
 1655              	.LFB328:
 419:Src/lis2dh.c  **** 
 420:Src/lis2dh.c  **** uint8_t lis2dh_self_test(uint8_t debug)
 421:Src/lis2dh.c  **** {
 1656              		.loc 1 421 1 is_stmt 1 view -0
 1657              		.cfi_startproc
 1658              		@ args = 0, pretend = 0, frame = 40
 1659              		@ frame_needed = 0, uses_anonymous_args = 0
 1660              		.loc 1 421 1 is_stmt 0 view .LVU380
 1661 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1662              	.LCFI40:
 1663              		.cfi_def_cfa_offset 36
 1664              		.cfi_offset 4, -36
 1665              		.cfi_offset 5, -32
 1666              		.cfi_offset 6, -28
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 41


 1667              		.cfi_offset 7, -24
 1668              		.cfi_offset 8, -20
 1669              		.cfi_offset 9, -16
 1670              		.cfi_offset 10, -12
 1671              		.cfi_offset 11, -8
 1672              		.cfi_offset 14, -4
 1673 0004 8BB0     		sub	sp, sp, #44
 1674              	.LCFI41:
 1675              		.cfi_def_cfa_offset 80
 1676 0006 0590     		str	r0, [sp, #20]
 1677 0008 0026     		movs	r6, #0
 1678 000a B046     		mov	r8, r6
 1679 000c 0296     		str	r6, [sp, #8]
 1680 000e 0496     		str	r6, [sp, #16]
 1681 0010 0396     		str	r6, [sp, #12]
 1682 0012 B246     		mov	r10, r6
 1683 0014 B146     		mov	r9, r6
 422:Src/lis2dh.c  ****     uint8_t ret = I_ZERO;
 1684              		.loc 1 422 5 is_stmt 1 view .LVU381
 1685              	.LVL180:
 423:Src/lis2dh.c  ****     uint8_t flow = I_ZERO;
 1686              		.loc 1 423 5 view .LVU382
 424:Src/lis2dh.c  ****     axis_raw_data_t axis_raw_data;
 1687              		.loc 1 424 5 view .LVU383
 425:Src/lis2dh.c  ****     uint8_t sample_count;
 1688              		.loc 1 425 5 view .LVU384
 426:Src/lis2dh.c  ****     int16_t outx_nost,outy_nost,outz_nost;
 1689              		.loc 1 426 5 view .LVU385
 427:Src/lis2dh.c  ****     int16_t outx_st,outy_st,outz_st;
 1690              		.loc 1 427 5 view .LVU386
 428:Src/lis2dh.c  ****     uint8_t self_test_pass = I_ZERO;
 1691              		.loc 1 428 5 view .LVU387
 429:Src/lis2dh.c  ****     uint8_t retry_num = 100;
 1692              		.loc 1 429 5 view .LVU388
 430:Src/lis2dh.c  ****     uint8_t retry_count = I_ZERO;
 1693              		.loc 1 430 5 view .LVU389
 431:Src/lis2dh.c  ****     uint8_t average_num = V_FIVE;
 1694              		.loc 1 431 5 view .LVU390
 432:Src/lis2dh.c  ****     uint8_t m_write_data = I_ZERO;
 1695              		.loc 1 432 5 view .LVU391
 1696              		.loc 1 432 13 is_stmt 0 view .LVU392
 1697 0016 8DF81F60 		strb	r6, [sp, #31]
 430:Src/lis2dh.c  ****     uint8_t retry_count = I_ZERO;
 1698              		.loc 1 430 13 view .LVU393
 1699 001a 3746     		mov	r7, r6
 428:Src/lis2dh.c  ****     uint8_t retry_num = 100;
 1700              		.loc 1 428 13 view .LVU394
 1701 001c B346     		mov	fp, r6
 423:Src/lis2dh.c  ****     axis_raw_data_t axis_raw_data;
 1702              		.loc 1 423 13 view .LVU395
 1703 001e 3446     		mov	r4, r6
 422:Src/lis2dh.c  ****     uint8_t flow = I_ZERO;
 1704              		.loc 1 422 13 view .LVU396
 1705 0020 3546     		mov	r5, r6
 1706              	.LVL181:
 1707              	.L100:
 433:Src/lis2dh.c  ****     while(1)
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 42


 1708              		.loc 1 433 5 is_stmt 1 view .LVU397
 434:Src/lis2dh.c  ****     {
 435:Src/lis2dh.c  ****         switch(flow)
 1709              		.loc 1 435 9 view .LVU398
 1710 0022 0194     		str	r4, [sp, #4]
 1711 0024 092C     		cmp	r4, #9
 1712 0026 00F2CF81 		bhi	.L101
 1713 002a DFE814F0 		tbh	[pc, r4, lsl #1]
 1714              	.L103:
 1715 002e 0A00     		.2byte	(.L112-.L103)/2
 1716 0030 5F00     		.2byte	(.L111-.L103)/2
 1717 0032 6600     		.2byte	(.L110-.L103)/2
 1718 0034 7F00     		.2byte	(.L109-.L103)/2
 1719 0036 8A00     		.2byte	(.L108-.L103)/2
 1720 0038 CA00     		.2byte	(.L107-.L103)/2
 1721 003a E200     		.2byte	(.L106-.L103)/2
 1722 003c 0101     		.2byte	(.L105-.L103)/2
 1723 003e 3C01     		.2byte	(.L104-.L103)/2
 1724 0040 8C01     		.2byte	(.L102-.L103)/2
 1725              		.p2align 1
 1726              	.L112:
 1727              	.LBB7:
 436:Src/lis2dh.c  ****         {
 437:Src/lis2dh.c  ****             case 0:
 438:Src/lis2dh.c  ****                 m_write_data = 0x47;
 1728              		.loc 1 438 17 view .LVU399
 1729              		.loc 1 438 30 is_stmt 0 view .LVU400
 1730 0042 4723     		movs	r3, #71
 1731 0044 8DF81F30 		strb	r3, [sp, #31]
 439:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG1_ADDR, &m_write_data, L_ONE);
 1732              		.loc 1 439 17 is_stmt 1 view .LVU401
 1733              		.loc 1 439 23 is_stmt 0 view .LVU402
 1734 0048 0122     		movs	r2, #1
 1735 004a 0DF11F01 		add	r1, sp, #31
 1736 004e 2020     		movs	r0, #32
 1737 0050 FFF7FEFF 		bl	lis2dh_write_data
 1738              	.LVL182:
 440:Src/lis2dh.c  ****                 if (ret)
 1739              		.loc 1 440 17 is_stmt 1 view .LVU403
 1740              		.loc 1 440 20 is_stmt 0 view .LVU404
 1741 0054 0546     		mov	r5, r0
 1742 0056 58BB     		cbnz	r0, .L141
 441:Src/lis2dh.c  ****                 {
 442:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG1_ADDR wr error:%d\r\n",flow,ret);
 443:Src/lis2dh.c  ****                     flow = V_ZERO;
 444:Src/lis2dh.c  ****                     goto END;
 445:Src/lis2dh.c  ****                 }
 446:Src/lis2dh.c  ****                 m_write_data = 0x00;
 1743              		.loc 1 446 17 is_stmt 1 view .LVU405
 1744              		.loc 1 446 30 is_stmt 0 view .LVU406
 1745 0058 0023     		movs	r3, #0
 1746 005a 8DF81F30 		strb	r3, [sp, #31]
 447:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG2_ADDR, &m_write_data, L_ONE);
 1747              		.loc 1 447 17 is_stmt 1 view .LVU407
 1748              		.loc 1 447 23 is_stmt 0 view .LVU408
 1749 005e 0122     		movs	r2, #1
 1750 0060 0DF11F01 		add	r1, sp, #31
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 43


 1751 0064 2120     		movs	r0, #33
 1752              	.LVL183:
 1753              		.loc 1 447 23 view .LVU409
 1754 0066 FFF7FEFF 		bl	lis2dh_write_data
 1755              	.LVL184:
 448:Src/lis2dh.c  ****                 if (ret)
 1756              		.loc 1 448 17 is_stmt 1 view .LVU410
 1757              		.loc 1 448 20 is_stmt 0 view .LVU411
 1758 006a 0546     		mov	r5, r0
 1759 006c 30BB     		cbnz	r0, .L142
 449:Src/lis2dh.c  ****                 {
 450:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG2_ADDR wr error:%d\r\n",flow,ret);
 451:Src/lis2dh.c  ****                     flow = V_ZERO;
 452:Src/lis2dh.c  ****                     goto END;
 453:Src/lis2dh.c  ****                 }
 454:Src/lis2dh.c  **** 
 455:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG3_ADDR, &m_write_data, L_ONE);
 1760              		.loc 1 455 17 is_stmt 1 view .LVU412
 1761              		.loc 1 455 23 is_stmt 0 view .LVU413
 1762 006e 0122     		movs	r2, #1
 1763 0070 0DF11F01 		add	r1, sp, #31
 1764 0074 2220     		movs	r0, #34
 1765              	.LVL185:
 1766              		.loc 1 455 23 view .LVU414
 1767 0076 FFF7FEFF 		bl	lis2dh_write_data
 1768              	.LVL186:
 456:Src/lis2dh.c  ****                 if (ret)
 1769              		.loc 1 456 17 is_stmt 1 view .LVU415
 1770              		.loc 1 456 20 is_stmt 0 view .LVU416
 1771 007a 0546     		mov	r5, r0
 1772 007c 20BB     		cbnz	r0, .L143
 457:Src/lis2dh.c  ****                 {
 458:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG3_ADDR wr error:%d\r\n",flow,ret); 
 459:Src/lis2dh.c  ****                     flow = V_ZERO;
 460:Src/lis2dh.c  ****                     goto END;
 461:Src/lis2dh.c  ****                 }
 462:Src/lis2dh.c  ****                 m_write_data = 0x80;
 1773              		.loc 1 462 17 is_stmt 1 view .LVU417
 1774              		.loc 1 462 30 is_stmt 0 view .LVU418
 1775 007e 8023     		movs	r3, #128
 1776 0080 8DF81F30 		strb	r3, [sp, #31]
 463:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG4_ADDR, &m_write_data, L_ONE);
 1777              		.loc 1 463 17 is_stmt 1 view .LVU419
 1778              		.loc 1 463 23 is_stmt 0 view .LVU420
 1779 0084 0122     		movs	r2, #1
 1780 0086 0DF11F01 		add	r1, sp, #31
 1781 008a 2320     		movs	r0, #35
 1782              	.LVL187:
 1783              		.loc 1 463 23 view .LVU421
 1784 008c FFF7FEFF 		bl	lis2dh_write_data
 1785              	.LVL188:
 464:Src/lis2dh.c  ****                 if (ret)
 1786              		.loc 1 464 17 is_stmt 1 view .LVU422
 1787              		.loc 1 464 20 is_stmt 0 view .LVU423
 1788 0090 0546     		mov	r5, r0
 1789 0092 F8B9     		cbnz	r0, .L144
 465:Src/lis2dh.c  ****                 {
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 44


 466:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG4_ADDR wr error:%d\r\n",flow,ret);
 467:Src/lis2dh.c  ****                     flow = V_ZERO;
 468:Src/lis2dh.c  ****                     goto END;
 469:Src/lis2dh.c  ****                 }
 470:Src/lis2dh.c  ****                 m_write_data = LIS2DH_INT1_THS_MAX;
 1790              		.loc 1 470 17 is_stmt 1 view .LVU424
 1791              		.loc 1 470 30 is_stmt 0 view .LVU425
 1792 0094 7F23     		movs	r3, #127
 1793 0096 8DF81F30 		strb	r3, [sp, #31]
 471:Src/lis2dh.c  ****                 ret = lis2dh_write_data(INT1_THS_REG, &m_write_data, L_ONE); //Prevent the chip fro
 1794              		.loc 1 471 17 is_stmt 1 view .LVU426
 1795              		.loc 1 471 23 is_stmt 0 view .LVU427
 1796 009a 0122     		movs	r2, #1
 1797 009c 0DF11F01 		add	r1, sp, #31
 1798 00a0 3220     		movs	r0, #50
 1799              	.LVL189:
 1800              		.loc 1 471 23 view .LVU428
 1801 00a2 FFF7FEFF 		bl	lis2dh_write_data
 1802              	.LVL190:
 472:Src/lis2dh.c  ****                 if (ret != LIS2DH_SUCCREE)
 1803              		.loc 1 472 17 is_stmt 1 view .LVU429
 1804              		.loc 1 472 20 is_stmt 0 view .LVU430
 1805 00a6 0546     		mov	r5, r0
 1806 00a8 D0B9     		cbnz	r0, .L145
 473:Src/lis2dh.c  ****                 {
 474:Src/lis2dh.c  ****                     printf("flow:%d,INT1_THS_REG wr error:%d\r\n",flow,ret);
 475:Src/lis2dh.c  ****                     flow = V_ZERO;
 476:Src/lis2dh.c  ****                     goto END;;
 1807              		.loc 1 476 30 is_stmt 1 view .LVU431
 477:Src/lis2dh.c  **** 
 478:Src/lis2dh.c  ****                 }
 479:Src/lis2dh.c  ****                 flow++;
 1808              		.loc 1 479 17 view .LVU432
 1809              		.loc 1 479 21 is_stmt 0 view .LVU433
 1810 00aa 0134     		adds	r4, r4, #1
 1811              	.LVL191:
 1812              		.loc 1 479 21 view .LVU434
 1813 00ac E4B2     		uxtb	r4, r4
 1814              	.LVL192:
 480:Src/lis2dh.c  ****                 break;
 1815              		.loc 1 480 17 is_stmt 1 view .LVU435
 1816 00ae B8E7     		b	.L100
 1817              	.L141:
 442:Src/lis2dh.c  ****                     flow = V_ZERO;
 1818              		.loc 1 442 21 view .LVU436
 1819 00b0 0246     		mov	r2, r0
 1820 00b2 0199     		ldr	r1, [sp, #4]
 1821 00b4 B948     		ldr	r0, .L159
 1822              	.LVL193:
 442:Src/lis2dh.c  ****                     flow = V_ZERO;
 1823              		.loc 1 442 21 is_stmt 0 view .LVU437
 1824 00b6 FFF7FEFF 		bl	printf
 1825              	.LVL194:
 443:Src/lis2dh.c  ****                     goto END;
 1826              		.loc 1 443 21 is_stmt 1 view .LVU438
 444:Src/lis2dh.c  ****                 }
 1827              		.loc 1 444 21 view .LVU439
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 45


 1828 00ba 57E1     		b	.L134
 1829              	.LVL195:
 1830              	.L142:
 450:Src/lis2dh.c  ****                     flow = V_ZERO;
 1831              		.loc 1 450 21 view .LVU440
 1832 00bc 0246     		mov	r2, r0
 1833 00be 0199     		ldr	r1, [sp, #4]
 1834 00c0 B748     		ldr	r0, .L159+4
 1835              	.LVL196:
 450:Src/lis2dh.c  ****                     flow = V_ZERO;
 1836              		.loc 1 450 21 is_stmt 0 view .LVU441
 1837 00c2 FFF7FEFF 		bl	printf
 1838              	.LVL197:
 451:Src/lis2dh.c  ****                     goto END;
 1839              		.loc 1 451 21 is_stmt 1 view .LVU442
 452:Src/lis2dh.c  ****                 }
 1840              		.loc 1 452 21 view .LVU443
 1841 00c6 51E1     		b	.L134
 1842              	.LVL198:
 1843              	.L143:
 458:Src/lis2dh.c  ****                     flow = V_ZERO;
 1844              		.loc 1 458 21 view .LVU444
 1845 00c8 0246     		mov	r2, r0
 1846 00ca 0199     		ldr	r1, [sp, #4]
 1847 00cc B548     		ldr	r0, .L159+8
 1848              	.LVL199:
 458:Src/lis2dh.c  ****                     flow = V_ZERO;
 1849              		.loc 1 458 21 is_stmt 0 view .LVU445
 1850 00ce FFF7FEFF 		bl	printf
 1851              	.LVL200:
 459:Src/lis2dh.c  ****                     goto END;
 1852              		.loc 1 459 21 is_stmt 1 view .LVU446
 460:Src/lis2dh.c  ****                 }
 1853              		.loc 1 460 21 view .LVU447
 1854 00d2 4BE1     		b	.L134
 1855              	.LVL201:
 1856              	.L144:
 466:Src/lis2dh.c  ****                     flow = V_ZERO;
 1857              		.loc 1 466 21 view .LVU448
 1858 00d4 0246     		mov	r2, r0
 1859 00d6 0199     		ldr	r1, [sp, #4]
 1860 00d8 B348     		ldr	r0, .L159+12
 1861              	.LVL202:
 466:Src/lis2dh.c  ****                     flow = V_ZERO;
 1862              		.loc 1 466 21 is_stmt 0 view .LVU449
 1863 00da FFF7FEFF 		bl	printf
 1864              	.LVL203:
 467:Src/lis2dh.c  ****                     goto END;
 1865              		.loc 1 467 21 is_stmt 1 view .LVU450
 468:Src/lis2dh.c  ****                 }
 1866              		.loc 1 468 21 view .LVU451
 1867 00de 45E1     		b	.L134
 1868              	.LVL204:
 1869              	.L145:
 474:Src/lis2dh.c  ****                     flow = V_ZERO;
 1870              		.loc 1 474 21 view .LVU452
 1871 00e0 0246     		mov	r2, r0
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 46


 1872 00e2 0199     		ldr	r1, [sp, #4]
 1873 00e4 B148     		ldr	r0, .L159+16
 1874              	.LVL205:
 474:Src/lis2dh.c  ****                     flow = V_ZERO;
 1875              		.loc 1 474 21 is_stmt 0 view .LVU453
 1876 00e6 FFF7FEFF 		bl	printf
 1877              	.LVL206:
 475:Src/lis2dh.c  ****                     goto END;;
 1878              		.loc 1 475 21 is_stmt 1 view .LVU454
 476:Src/lis2dh.c  **** 
 1879              		.loc 1 476 21 view .LVU455
 1880 00ea 3FE1     		b	.L134
 1881              	.LVL207:
 1882              	.L111:
 481:Src/lis2dh.c  **** 
 482:Src/lis2dh.c  ****             case 1:
 483:Src/lis2dh.c  ****                 check_scheduler_and_delay(100);
 1883              		.loc 1 483 17 view .LVU456
 1884 00ec 6420     		movs	r0, #100
 1885 00ee FFF7FEFF 		bl	check_scheduler_and_delay
 1886              	.LVL208:
 484:Src/lis2dh.c  ****                 flow++;
 1887              		.loc 1 484 17 view .LVU457
 1888              		.loc 1 484 21 is_stmt 0 view .LVU458
 1889 00f2 0134     		adds	r4, r4, #1
 1890              	.LVL209:
 1891              		.loc 1 484 21 view .LVU459
 1892 00f4 E4B2     		uxtb	r4, r4
 1893              	.LVL210:
 485:Src/lis2dh.c  ****                 retry_count = V_ZERO;
 1894              		.loc 1 485 17 is_stmt 1 view .LVU460
 486:Src/lis2dh.c  ****                 break;
 1895              		.loc 1 486 17 view .LVU461
 485:Src/lis2dh.c  ****                 retry_count = V_ZERO;
 1896              		.loc 1 485 29 is_stmt 0 view .LVU462
 1897 00f6 0027     		movs	r7, #0
 1898              		.loc 1 486 17 view .LVU463
 1899 00f8 93E7     		b	.L100
 1900              	.LVL211:
 1901              	.L110:
 487:Src/lis2dh.c  **** 
 488:Src/lis2dh.c  ****             case 2:
 489:Src/lis2dh.c  ****                 if (is_lis2dh_data_valid())
 1902              		.loc 1 489 17 is_stmt 1 view .LVU464
 1903              		.loc 1 489 21 is_stmt 0 view .LVU465
 1904 00fa FFF7FEFF 		bl	is_lis2dh_data_valid
 1905              	.LVL212:
 1906              		.loc 1 489 20 view .LVU466
 1907 00fe 38B9     		cbnz	r0, .L146
 490:Src/lis2dh.c  ****                 {                   
 491:Src/lis2dh.c  ****                     ret = lis2dh_raw_data_read(&axis_raw_data);
 492:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 493:Src/lis2dh.c  ****                     {
 494:Src/lis2dh.c  ****                         flow++;
 495:Src/lis2dh.c  ****                     }  
 496:Src/lis2dh.c  ****                     else
 497:Src/lis2dh.c  ****                     {
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 47


 498:Src/lis2dh.c  ****                         goto END;
 499:Src/lis2dh.c  ****                     }    
 500:Src/lis2dh.c  ****                 }    
 501:Src/lis2dh.c  ****                 else
 502:Src/lis2dh.c  ****                 {
 503:Src/lis2dh.c  ****                     retry_count++;
 1908              		.loc 1 503 21 is_stmt 1 view .LVU467
 1909              		.loc 1 503 32 is_stmt 0 view .LVU468
 1910 0100 0137     		adds	r7, r7, #1
 1911              	.LVL213:
 1912              		.loc 1 503 32 view .LVU469
 1913 0102 FFB2     		uxtb	r7, r7
 1914              	.LVL214:
 504:Src/lis2dh.c  ****                     if (retry_count > retry_num)
 1915              		.loc 1 504 21 is_stmt 1 view .LVU470
 1916              		.loc 1 504 24 is_stmt 0 view .LVU471
 1917 0104 642F     		cmp	r7, #100
 1918 0106 0DD8     		bhi	.L147
 505:Src/lis2dh.c  ****                     {
 506:Src/lis2dh.c  ****                         printf("wait lis2dh data valid,retry_count timeout\r\n");
 507:Src/lis2dh.c  ****                         goto END;
 508:Src/lis2dh.c  ****                     }    
 509:Src/lis2dh.c  ****                     check_scheduler_and_delay(10);
 1919              		.loc 1 509 21 is_stmt 1 view .LVU472
 1920 0108 0A20     		movs	r0, #10
 1921 010a FFF7FEFF 		bl	check_scheduler_and_delay
 1922              	.LVL215:
 1923 010e 88E7     		b	.L100
 1924              	.L146:
 491:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 1925              		.loc 1 491 21 view .LVU473
 491:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 1926              		.loc 1 491 27 is_stmt 0 view .LVU474
 1927 0110 08A8     		add	r0, sp, #32
 1928 0112 FFF7FEFF 		bl	lis2dh_raw_data_read
 1929              	.LVL216:
 492:Src/lis2dh.c  ****                     {
 1930              		.loc 1 492 21 is_stmt 1 view .LVU475
 492:Src/lis2dh.c  ****                     {
 1931              		.loc 1 492 24 is_stmt 0 view .LVU476
 1932 0116 0546     		mov	r5, r0
 1933 0118 0028     		cmp	r0, #0
 1934 011a 40F02781 		bne	.L134
 494:Src/lis2dh.c  ****                     }  
 1935              		.loc 1 494 25 is_stmt 1 view .LVU477
 494:Src/lis2dh.c  ****                     }  
 1936              		.loc 1 494 29 is_stmt 0 view .LVU478
 1937 011e 0134     		adds	r4, r4, #1
 1938              	.LVL217:
 494:Src/lis2dh.c  ****                     }  
 1939              		.loc 1 494 29 view .LVU479
 1940 0120 E4B2     		uxtb	r4, r4
 1941              	.LVL218:
 494:Src/lis2dh.c  ****                     }  
 1942              		.loc 1 494 29 view .LVU480
 1943 0122 7EE7     		b	.L100
 1944              	.LVL219:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 48


 1945              	.L147:
 506:Src/lis2dh.c  ****                         goto END;
 1946              		.loc 1 506 25 is_stmt 1 view .LVU481
 1947 0124 A248     		ldr	r0, .L159+20
 1948 0126 FFF7FEFF 		bl	puts
 1949              	.LVL220:
 507:Src/lis2dh.c  ****                     }    
 1950              		.loc 1 507 25 view .LVU482
 1951 012a 1FE1     		b	.L134
 1952              	.L109:
 510:Src/lis2dh.c  ****                 } 
 511:Src/lis2dh.c  ****                 break;
 512:Src/lis2dh.c  **** 
 513:Src/lis2dh.c  ****             case 3:                 
 514:Src/lis2dh.c  ****                 sample_count = V_ZERO;
 1953              		.loc 1 514 17 view .LVU483
 1954              	.LVL221:
 515:Src/lis2dh.c  ****                 outx_nost = V_ZERO;
 1955              		.loc 1 515 17 view .LVU484
 516:Src/lis2dh.c  ****                 outy_nost = V_ZERO;
 1956              		.loc 1 516 17 view .LVU485
 517:Src/lis2dh.c  ****                 outz_nost = V_ZERO;
 1957              		.loc 1 517 17 view .LVU486
 518:Src/lis2dh.c  ****                 outx_st = V_ZERO;
 1958              		.loc 1 518 17 view .LVU487
 519:Src/lis2dh.c  ****                 outy_st = V_ZERO;
 1959              		.loc 1 519 17 view .LVU488
 520:Src/lis2dh.c  ****                 outz_st = V_ZERO;
 1960              		.loc 1 520 17 view .LVU489
 521:Src/lis2dh.c  ****                 retry_count = V_ZERO;
 1961              		.loc 1 521 17 view .LVU490
 522:Src/lis2dh.c  ****                 flow++;
 1962              		.loc 1 522 17 view .LVU491
 1963              		.loc 1 522 21 is_stmt 0 view .LVU492
 1964 012c 0134     		adds	r4, r4, #1
 1965              	.LVL222:
 1966              		.loc 1 522 21 view .LVU493
 1967 012e E4B2     		uxtb	r4, r4
 1968              	.LVL223:
 523:Src/lis2dh.c  ****                 break;
 1969              		.loc 1 523 17 is_stmt 1 view .LVU494
 521:Src/lis2dh.c  ****                 retry_count = V_ZERO;
 1970              		.loc 1 521 29 is_stmt 0 view .LVU495
 1971 0130 0027     		movs	r7, #0
 520:Src/lis2dh.c  ****                 retry_count = V_ZERO;
 1972              		.loc 1 520 25 view .LVU496
 1973 0132 0297     		str	r7, [sp, #8]
 519:Src/lis2dh.c  ****                 outz_st = V_ZERO;
 1974              		.loc 1 519 25 view .LVU497
 1975 0134 B846     		mov	r8, r7
 518:Src/lis2dh.c  ****                 outy_st = V_ZERO;
 1976              		.loc 1 518 25 view .LVU498
 1977 0136 3E46     		mov	r6, r7
 517:Src/lis2dh.c  ****                 outx_st = V_ZERO;
 1978              		.loc 1 517 27 view .LVU499
 1979 0138 0497     		str	r7, [sp, #16]
 516:Src/lis2dh.c  ****                 outz_nost = V_ZERO;
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 49


 1980              		.loc 1 516 27 view .LVU500
 1981 013a 0397     		str	r7, [sp, #12]
 515:Src/lis2dh.c  ****                 outy_nost = V_ZERO;
 1982              		.loc 1 515 27 view .LVU501
 1983 013c BA46     		mov	r10, r7
 514:Src/lis2dh.c  ****                 outx_nost = V_ZERO;
 1984              		.loc 1 514 30 view .LVU502
 1985 013e B946     		mov	r9, r7
 1986              		.loc 1 523 17 view .LVU503
 1987 0140 6FE7     		b	.L100
 1988              	.LVL224:
 1989              	.L108:
 524:Src/lis2dh.c  **** 
 525:Src/lis2dh.c  ****             case 4:
 526:Src/lis2dh.c  ****                 if (is_lis2dh_data_valid())
 1990              		.loc 1 526 17 is_stmt 1 view .LVU504
 1991              		.loc 1 526 21 is_stmt 0 view .LVU505
 1992 0142 FFF7FEFF 		bl	is_lis2dh_data_valid
 1993              	.LVL225:
 1994              		.loc 1 526 20 view .LVU506
 1995 0146 38B9     		cbnz	r0, .L148
 527:Src/lis2dh.c  ****                 {
 528:Src/lis2dh.c  ****                     ret = lis2dh_raw_data_read(&axis_raw_data);
 529:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 530:Src/lis2dh.c  ****                     {
 531:Src/lis2dh.c  ****                         outx_nost += (axis_raw_data.x>>6);  //The value is expressed as twos comple
 532:Src/lis2dh.c  ****                         outy_nost += (axis_raw_data.y>>6);
 533:Src/lis2dh.c  ****                         outz_nost += (axis_raw_data.z>>6);
 534:Src/lis2dh.c  ****                         sample_count++;            
 535:Src/lis2dh.c  ****                         if (sample_count == average_num)
 536:Src/lis2dh.c  ****                         {
 537:Src/lis2dh.c  ****                             outx_nost /= sample_count;
 538:Src/lis2dh.c  ****                             outy_nost /= sample_count;
 539:Src/lis2dh.c  ****                             outz_nost /= sample_count;
 540:Src/lis2dh.c  ****                             sample_count = V_ZERO;
 541:Src/lis2dh.c  ****                             flow++;
 542:Src/lis2dh.c  ****                         }    
 543:Src/lis2dh.c  ****                     }
 544:Src/lis2dh.c  ****                     else
 545:Src/lis2dh.c  ****                     {
 546:Src/lis2dh.c  ****                         goto END;
 547:Src/lis2dh.c  ****                     }    
 548:Src/lis2dh.c  ****                 }    
 549:Src/lis2dh.c  ****                 else
 550:Src/lis2dh.c  ****                 {
 551:Src/lis2dh.c  ****                     retry_count++;
 1996              		.loc 1 551 21 is_stmt 1 view .LVU507
 1997              		.loc 1 551 32 is_stmt 0 view .LVU508
 1998 0148 0137     		adds	r7, r7, #1
 1999              	.LVL226:
 2000              		.loc 1 551 32 view .LVU509
 2001 014a FFB2     		uxtb	r7, r7
 2002              	.LVL227:
 552:Src/lis2dh.c  ****                     if (retry_count > retry_num)
 2003              		.loc 1 552 21 is_stmt 1 view .LVU510
 2004              		.loc 1 552 24 is_stmt 0 view .LVU511
 2005 014c 642F     		cmp	r7, #100
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 50


 2006 014e 34D8     		bhi	.L149
 553:Src/lis2dh.c  ****                     {
 554:Src/lis2dh.c  ****                         printf("wait lis2dh data valid,retry_count timeout\r\n");
 555:Src/lis2dh.c  ****                         goto END;
 556:Src/lis2dh.c  ****                     } 
 557:Src/lis2dh.c  ****                     check_scheduler_and_delay(10);
 2007              		.loc 1 557 21 is_stmt 1 view .LVU512
 2008 0150 0A20     		movs	r0, #10
 2009 0152 FFF7FEFF 		bl	check_scheduler_and_delay
 2010              	.LVL228:
 2011 0156 64E7     		b	.L100
 2012              	.L148:
 528:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 2013              		.loc 1 528 21 view .LVU513
 528:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 2014              		.loc 1 528 27 is_stmt 0 view .LVU514
 2015 0158 08A8     		add	r0, sp, #32
 2016 015a FFF7FEFF 		bl	lis2dh_raw_data_read
 2017              	.LVL229:
 529:Src/lis2dh.c  ****                     {
 2018              		.loc 1 529 21 is_stmt 1 view .LVU515
 529:Src/lis2dh.c  ****                     {
 2019              		.loc 1 529 24 is_stmt 0 view .LVU516
 2020 015e 0546     		mov	r5, r0
 2021 0160 0028     		cmp	r0, #0
 2022 0162 40F00381 		bne	.L134
 531:Src/lis2dh.c  ****                         outy_nost += (axis_raw_data.y>>6);
 2023              		.loc 1 531 25 is_stmt 1 view .LVU517
 531:Src/lis2dh.c  ****                         outy_nost += (axis_raw_data.y>>6);
 2024              		.loc 1 531 52 is_stmt 0 view .LVU518
 2025 0166 BDF92030 		ldrsh	r3, [sp, #32]
 531:Src/lis2dh.c  ****                         outy_nost += (axis_raw_data.y>>6);
 2026              		.loc 1 531 35 view .LVU519
 2027 016a 0AEBA31A 		add	r10, r10, r3, asr #6
 2028              	.LVL230:
 531:Src/lis2dh.c  ****                         outy_nost += (axis_raw_data.y>>6);
 2029              		.loc 1 531 35 view .LVU520
 2030 016e 0FFA8AFA 		sxth	r10, r10
 2031              	.LVL231:
 532:Src/lis2dh.c  ****                         outz_nost += (axis_raw_data.z>>6);
 2032              		.loc 1 532 25 is_stmt 1 view .LVU521
 532:Src/lis2dh.c  ****                         outz_nost += (axis_raw_data.z>>6);
 2033              		.loc 1 532 52 is_stmt 0 view .LVU522
 2034 0172 BDF92230 		ldrsh	r3, [sp, #34]
 532:Src/lis2dh.c  ****                         outz_nost += (axis_raw_data.z>>6);
 2035              		.loc 1 532 35 view .LVU523
 2036 0176 039A     		ldr	r2, [sp, #12]
 2037 0178 02EBA313 		add	r3, r2, r3, asr #6
 2038 017c 1BB2     		sxth	r3, r3
 2039 017e 0393     		str	r3, [sp, #12]
 2040              	.LVL232:
 533:Src/lis2dh.c  ****                         sample_count++;            
 2041              		.loc 1 533 25 is_stmt 1 view .LVU524
 533:Src/lis2dh.c  ****                         sample_count++;            
 2042              		.loc 1 533 52 is_stmt 0 view .LVU525
 2043 0180 BDF92430 		ldrsh	r3, [sp, #36]
 533:Src/lis2dh.c  ****                         sample_count++;            
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 51


 2044              		.loc 1 533 35 view .LVU526
 2045 0184 049A     		ldr	r2, [sp, #16]
 2046 0186 02EBA313 		add	r3, r2, r3, asr #6
 2047 018a 1BB2     		sxth	r3, r3
 2048 018c 0493     		str	r3, [sp, #16]
 2049              	.LVL233:
 534:Src/lis2dh.c  ****                         if (sample_count == average_num)
 2050              		.loc 1 534 25 is_stmt 1 view .LVU527
 534:Src/lis2dh.c  ****                         if (sample_count == average_num)
 2051              		.loc 1 534 37 is_stmt 0 view .LVU528
 2052 018e 09F10109 		add	r9, r9, #1
 2053              	.LVL234:
 534:Src/lis2dh.c  ****                         if (sample_count == average_num)
 2054              		.loc 1 534 37 view .LVU529
 2055 0192 5FFA89F9 		uxtb	r9, r9
 2056              	.LVL235:
 535:Src/lis2dh.c  ****                         {
 2057              		.loc 1 535 25 is_stmt 1 view .LVU530
 535:Src/lis2dh.c  ****                         {
 2058              		.loc 1 535 28 is_stmt 0 view .LVU531
 2059 0196 B9F1050F 		cmp	r9, #5
 2060 019a 7FF442AF 		bne	.L100
 537:Src/lis2dh.c  ****                             outy_nost /= sample_count;
 2061              		.loc 1 537 29 is_stmt 1 view .LVU532
 537:Src/lis2dh.c  ****                             outy_nost /= sample_count;
 2062              		.loc 1 537 39 is_stmt 0 view .LVU533
 2063 019e 9AFBF9FA 		sdiv	r10, r10, r9
 2064              	.LVL236:
 538:Src/lis2dh.c  ****                             outz_nost /= sample_count;
 2065              		.loc 1 538 29 is_stmt 1 view .LVU534
 538:Src/lis2dh.c  ****                             outz_nost /= sample_count;
 2066              		.loc 1 538 39 is_stmt 0 view .LVU535
 2067 01a2 039B     		ldr	r3, [sp, #12]
 2068 01a4 93FBF9F3 		sdiv	r3, r3, r9
 2069 01a8 0393     		str	r3, [sp, #12]
 2070              	.LVL237:
 539:Src/lis2dh.c  ****                             sample_count = V_ZERO;
 2071              		.loc 1 539 29 is_stmt 1 view .LVU536
 539:Src/lis2dh.c  ****                             sample_count = V_ZERO;
 2072              		.loc 1 539 39 is_stmt 0 view .LVU537
 2073 01aa 049B     		ldr	r3, [sp, #16]
 2074 01ac 93FBF9F3 		sdiv	r3, r3, r9
 2075 01b0 0493     		str	r3, [sp, #16]
 2076              	.LVL238:
 540:Src/lis2dh.c  ****                             flow++;
 2077              		.loc 1 540 29 is_stmt 1 view .LVU538
 541:Src/lis2dh.c  ****                         }    
 2078              		.loc 1 541 29 view .LVU539
 541:Src/lis2dh.c  ****                         }    
 2079              		.loc 1 541 33 is_stmt 0 view .LVU540
 2080 01b2 0134     		adds	r4, r4, #1
 2081              	.LVL239:
 541:Src/lis2dh.c  ****                         }    
 2082              		.loc 1 541 33 view .LVU541
 2083 01b4 E4B2     		uxtb	r4, r4
 2084              	.LVL240:
 540:Src/lis2dh.c  ****                             flow++;
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 52


 2085              		.loc 1 540 42 view .LVU542
 2086 01b6 8146     		mov	r9, r0
 2087 01b8 33E7     		b	.L100
 2088              	.LVL241:
 2089              	.L149:
 554:Src/lis2dh.c  ****                         goto END;
 2090              		.loc 1 554 25 is_stmt 1 view .LVU543
 2091 01ba 7D48     		ldr	r0, .L159+20
 2092 01bc FFF7FEFF 		bl	puts
 2093              	.LVL242:
 555:Src/lis2dh.c  ****                     } 
 2094              		.loc 1 555 25 view .LVU544
 2095 01c0 D4E0     		b	.L134
 2096              	.L107:
 558:Src/lis2dh.c  ****                 }    
 559:Src/lis2dh.c  ****                 break;
 560:Src/lis2dh.c  **** 
 561:Src/lis2dh.c  ****             case 5:
 562:Src/lis2dh.c  ****                 m_write_data = 0x82;
 2097              		.loc 1 562 17 view .LVU545
 2098              		.loc 1 562 30 is_stmt 0 view .LVU546
 2099 01c2 8223     		movs	r3, #130
 2100 01c4 8DF81F30 		strb	r3, [sp, #31]
 563:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG4_ADDR, &m_write_data, L_ONE);
 2101              		.loc 1 563 17 is_stmt 1 view .LVU547
 2102              		.loc 1 563 23 is_stmt 0 view .LVU548
 2103 01c8 0122     		movs	r2, #1
 2104 01ca 0DF11F01 		add	r1, sp, #31
 2105 01ce 2320     		movs	r0, #35
 2106 01d0 FFF7FEFF 		bl	lis2dh_write_data
 2107              	.LVL243:
 564:Src/lis2dh.c  ****                 if (ret != LIS2DH_SUCCREE)
 2108              		.loc 1 564 17 is_stmt 1 view .LVU549
 2109              		.loc 1 564 20 is_stmt 0 view .LVU550
 2110 01d4 0546     		mov	r5, r0
 2111 01d6 30B9     		cbnz	r0, .L150
 565:Src/lis2dh.c  ****                 {
 566:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG4_ADDR wr error:%d\r\n",flow,ret);
 567:Src/lis2dh.c  ****                     goto END;
 568:Src/lis2dh.c  ****                 }
 569:Src/lis2dh.c  ****                 else
 570:Src/lis2dh.c  ****                 {
 571:Src/lis2dh.c  ****                     flow++;
 2112              		.loc 1 571 21 is_stmt 1 view .LVU551
 2113              		.loc 1 571 25 is_stmt 0 view .LVU552
 2114 01d8 0134     		adds	r4, r4, #1
 2115              	.LVL244:
 2116              		.loc 1 571 25 view .LVU553
 2117 01da E4B2     		uxtb	r4, r4
 2118              	.LVL245:
 572:Src/lis2dh.c  ****                     retry_count = V_ZERO;
 2119              		.loc 1 572 21 is_stmt 1 view .LVU554
 573:Src/lis2dh.c  ****                     check_scheduler_and_delay(100);
 2120              		.loc 1 573 21 view .LVU555
 2121 01dc 6420     		movs	r0, #100
 2122              	.LVL246:
 2123              		.loc 1 573 21 is_stmt 0 view .LVU556
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 53


 2124 01de FFF7FEFF 		bl	check_scheduler_and_delay
 2125              	.LVL247:
 574:Src/lis2dh.c  ****                 }    
 575:Src/lis2dh.c  ****                 break;
 2126              		.loc 1 575 17 is_stmt 1 view .LVU557
 572:Src/lis2dh.c  ****                     check_scheduler_and_delay(100);
 2127              		.loc 1 572 33 is_stmt 0 view .LVU558
 2128 01e2 2F46     		mov	r7, r5
 2129              		.loc 1 575 17 view .LVU559
 2130 01e4 1DE7     		b	.L100
 2131              	.LVL248:
 2132              	.L150:
 566:Src/lis2dh.c  ****                     goto END;
 2133              		.loc 1 566 21 is_stmt 1 view .LVU560
 2134 01e6 0246     		mov	r2, r0
 2135 01e8 0199     		ldr	r1, [sp, #4]
 2136 01ea 6F48     		ldr	r0, .L159+12
 2137              	.LVL249:
 566:Src/lis2dh.c  ****                     goto END;
 2138              		.loc 1 566 21 is_stmt 0 view .LVU561
 2139 01ec FFF7FEFF 		bl	printf
 2140              	.LVL250:
 567:Src/lis2dh.c  ****                 }
 2141              		.loc 1 567 21 is_stmt 1 view .LVU562
 2142 01f0 BCE0     		b	.L134
 2143              	.LVL251:
 2144              	.L106:
 576:Src/lis2dh.c  **** 
 577:Src/lis2dh.c  ****             case 6:
 578:Src/lis2dh.c  ****                 if (is_lis2dh_data_valid())
 2145              		.loc 1 578 17 view .LVU563
 2146              		.loc 1 578 21 is_stmt 0 view .LVU564
 2147 01f2 FFF7FEFF 		bl	is_lis2dh_data_valid
 2148              	.LVL252:
 2149              		.loc 1 578 20 view .LVU565
 2150 01f6 38B9     		cbnz	r0, .L151
 579:Src/lis2dh.c  ****                 {
 580:Src/lis2dh.c  ****                     ret = lis2dh_raw_data_read(&axis_raw_data);
 581:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 582:Src/lis2dh.c  ****                     {
 583:Src/lis2dh.c  ****                         sample_count = V_ZERO;
 584:Src/lis2dh.c  ****                         outx_st = V_ZERO;
 585:Src/lis2dh.c  ****                         outy_st = V_ZERO;
 586:Src/lis2dh.c  ****                         outz_st = V_ZERO;
 587:Src/lis2dh.c  ****                         retry_count = V_ZERO;
 588:Src/lis2dh.c  ****                         flow++;
 589:Src/lis2dh.c  ****                     }
 590:Src/lis2dh.c  ****                     else
 591:Src/lis2dh.c  ****                     {
 592:Src/lis2dh.c  ****                         goto END;
 593:Src/lis2dh.c  ****                     }    
 594:Src/lis2dh.c  ****                 }    
 595:Src/lis2dh.c  ****                 else
 596:Src/lis2dh.c  ****                 {
 597:Src/lis2dh.c  ****                     retry_count++;
 2151              		.loc 1 597 21 is_stmt 1 view .LVU566
 2152              		.loc 1 597 32 is_stmt 0 view .LVU567
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 54


 2153 01f8 0137     		adds	r7, r7, #1
 2154              	.LVL253:
 2155              		.loc 1 597 32 view .LVU568
 2156 01fa FFB2     		uxtb	r7, r7
 2157              	.LVL254:
 598:Src/lis2dh.c  ****                     if (retry_count > retry_num)
 2158              		.loc 1 598 21 is_stmt 1 view .LVU569
 2159              		.loc 1 598 24 is_stmt 0 view .LVU570
 2160 01fc 642F     		cmp	r7, #100
 2161 01fe 13D8     		bhi	.L152
 599:Src/lis2dh.c  ****                     {
 600:Src/lis2dh.c  ****                         printf("wait lis2dh data valid,retry_count timeout\r\n");
 601:Src/lis2dh.c  ****                         goto END;
 602:Src/lis2dh.c  ****                     } 
 603:Src/lis2dh.c  ****                     check_scheduler_and_delay(10);
 2162              		.loc 1 603 21 is_stmt 1 view .LVU571
 2163 0200 0A20     		movs	r0, #10
 2164 0202 FFF7FEFF 		bl	check_scheduler_and_delay
 2165              	.LVL255:
 2166 0206 0CE7     		b	.L100
 2167              	.L151:
 580:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 2168              		.loc 1 580 21 view .LVU572
 580:Src/lis2dh.c  ****                     if (ret == V_ZERO)
 2169              		.loc 1 580 27 is_stmt 0 view .LVU573
 2170 0208 08A8     		add	r0, sp, #32
 2171 020a FFF7FEFF 		bl	lis2dh_raw_data_read
 2172              	.LVL256:
 581:Src/lis2dh.c  ****                     {
 2173              		.loc 1 581 21 is_stmt 1 view .LVU574
 581:Src/lis2dh.c  ****                     {
 2174              		.loc 1 581 24 is_stmt 0 view .LVU575
 2175 020e 0546     		mov	r5, r0
 2176 0210 0028     		cmp	r0, #0
 2177 0212 40F0AB80 		bne	.L134
 583:Src/lis2dh.c  ****                         outx_st = V_ZERO;
 2178              		.loc 1 583 25 is_stmt 1 view .LVU576
 2179              	.LVL257:
 584:Src/lis2dh.c  ****                         outy_st = V_ZERO;
 2180              		.loc 1 584 25 view .LVU577
 585:Src/lis2dh.c  ****                         outz_st = V_ZERO;
 2181              		.loc 1 585 25 view .LVU578
 586:Src/lis2dh.c  ****                         retry_count = V_ZERO;
 2182              		.loc 1 586 25 view .LVU579
 587:Src/lis2dh.c  ****                         flow++;
 2183              		.loc 1 587 25 view .LVU580
 588:Src/lis2dh.c  ****                     }
 2184              		.loc 1 588 25 view .LVU581
 588:Src/lis2dh.c  ****                     }
 2185              		.loc 1 588 29 is_stmt 0 view .LVU582
 2186 0216 0134     		adds	r4, r4, #1
 2187              	.LVL258:
 588:Src/lis2dh.c  ****                     }
 2188              		.loc 1 588 29 view .LVU583
 2189 0218 E4B2     		uxtb	r4, r4
 2190              	.LVL259:
 587:Src/lis2dh.c  ****                         flow++;
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 55


 2191              		.loc 1 587 37 view .LVU584
 2192 021a 0746     		mov	r7, r0
 583:Src/lis2dh.c  ****                         outx_st = V_ZERO;
 2193              		.loc 1 583 38 view .LVU585
 2194 021c 8146     		mov	r9, r0
 586:Src/lis2dh.c  ****                         retry_count = V_ZERO;
 2195              		.loc 1 586 33 view .LVU586
 2196 021e 0023     		movs	r3, #0
 2197 0220 1E46     		mov	r6, r3
 2198 0222 0293     		str	r3, [sp, #8]
 585:Src/lis2dh.c  ****                         outz_st = V_ZERO;
 2199              		.loc 1 585 33 view .LVU587
 2200 0224 9846     		mov	r8, r3
 2201 0226 FCE6     		b	.L100
 2202              	.LVL260:
 2203              	.L152:
 600:Src/lis2dh.c  ****                         goto END;
 2204              		.loc 1 600 25 is_stmt 1 view .LVU588
 2205 0228 6148     		ldr	r0, .L159+20
 2206 022a FFF7FEFF 		bl	puts
 2207              	.LVL261:
 601:Src/lis2dh.c  ****                     } 
 2208              		.loc 1 601 25 view .LVU589
 2209 022e 9DE0     		b	.L134
 2210              	.L105:
 604:Src/lis2dh.c  ****                 }    
 605:Src/lis2dh.c  ****                 break;
 606:Src/lis2dh.c  **** 
 607:Src/lis2dh.c  ****             case 7:
 608:Src/lis2dh.c  ****                 if (is_lis2dh_data_valid())
 2211              		.loc 1 608 17 view .LVU590
 2212              		.loc 1 608 21 is_stmt 0 view .LVU591
 2213 0230 FFF7FEFF 		bl	is_lis2dh_data_valid
 2214              	.LVL262:
 2215              		.loc 1 608 20 view .LVU592
 2216 0234 38B9     		cbnz	r0, .L153
 609:Src/lis2dh.c  ****                 {
 610:Src/lis2dh.c  ****                     ret = lis2dh_raw_data_read(&axis_raw_data);
 611:Src/lis2dh.c  ****                     if (ret == 0)
 612:Src/lis2dh.c  ****                     {
 613:Src/lis2dh.c  ****                         outx_st += (axis_raw_data.x>>6);
 614:Src/lis2dh.c  ****                         outy_st += (axis_raw_data.y>>6);
 615:Src/lis2dh.c  ****                         outz_st += (axis_raw_data.z>>6);
 616:Src/lis2dh.c  ****                         sample_count++;            
 617:Src/lis2dh.c  ****                         if (sample_count == average_num)
 618:Src/lis2dh.c  ****                         {
 619:Src/lis2dh.c  ****                             outx_st /= sample_count;
 620:Src/lis2dh.c  ****                             outy_st /= sample_count;
 621:Src/lis2dh.c  ****                             outz_st /= sample_count;
 622:Src/lis2dh.c  ****                             sample_count = 0;
 623:Src/lis2dh.c  ****                             flow++;
 624:Src/lis2dh.c  ****                         }    
 625:Src/lis2dh.c  ****                     }
 626:Src/lis2dh.c  ****                     else
 627:Src/lis2dh.c  ****                     {
 628:Src/lis2dh.c  ****                         goto END;
 629:Src/lis2dh.c  ****                     }    
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 56


 630:Src/lis2dh.c  ****                 }    
 631:Src/lis2dh.c  ****                 else
 632:Src/lis2dh.c  ****                 {
 633:Src/lis2dh.c  ****                     retry_count++;
 2217              		.loc 1 633 21 is_stmt 1 view .LVU593
 2218              		.loc 1 633 32 is_stmt 0 view .LVU594
 2219 0236 0137     		adds	r7, r7, #1
 2220              	.LVL263:
 2221              		.loc 1 633 32 view .LVU595
 2222 0238 FFB2     		uxtb	r7, r7
 2223              	.LVL264:
 634:Src/lis2dh.c  ****                     if (retry_count > retry_num)
 2224              		.loc 1 634 21 is_stmt 1 view .LVU596
 2225              		.loc 1 634 24 is_stmt 0 view .LVU597
 2226 023a 642F     		cmp	r7, #100
 2227 023c 2FD8     		bhi	.L154
 635:Src/lis2dh.c  ****                     {
 636:Src/lis2dh.c  ****                         printf("wait lis2dh data valid,retry_count timeout\r\n");
 637:Src/lis2dh.c  ****                         goto END;
 638:Src/lis2dh.c  ****                     } 
 639:Src/lis2dh.c  ****                     check_scheduler_and_delay(10);
 2228              		.loc 1 639 21 is_stmt 1 view .LVU598
 2229 023e 0A20     		movs	r0, #10
 2230 0240 FFF7FEFF 		bl	check_scheduler_and_delay
 2231              	.LVL265:
 2232 0244 EDE6     		b	.L100
 2233              	.L153:
 610:Src/lis2dh.c  ****                     if (ret == 0)
 2234              		.loc 1 610 21 view .LVU599
 610:Src/lis2dh.c  ****                     if (ret == 0)
 2235              		.loc 1 610 27 is_stmt 0 view .LVU600
 2236 0246 08A8     		add	r0, sp, #32
 2237 0248 FFF7FEFF 		bl	lis2dh_raw_data_read
 2238              	.LVL266:
 611:Src/lis2dh.c  ****                     {
 2239              		.loc 1 611 21 is_stmt 1 view .LVU601
 611:Src/lis2dh.c  ****                     {
 2240              		.loc 1 611 24 is_stmt 0 view .LVU602
 2241 024c 0546     		mov	r5, r0
 2242 024e 0028     		cmp	r0, #0
 2243 0250 40F08C80 		bne	.L134
 613:Src/lis2dh.c  ****                         outy_st += (axis_raw_data.y>>6);
 2244              		.loc 1 613 25 is_stmt 1 view .LVU603
 613:Src/lis2dh.c  ****                         outy_st += (axis_raw_data.y>>6);
 2245              		.loc 1 613 50 is_stmt 0 view .LVU604
 2246 0254 BDF92030 		ldrsh	r3, [sp, #32]
 613:Src/lis2dh.c  ****                         outy_st += (axis_raw_data.y>>6);
 2247              		.loc 1 613 33 view .LVU605
 2248 0258 06EBA316 		add	r6, r6, r3, asr #6
 2249              	.LVL267:
 613:Src/lis2dh.c  ****                         outy_st += (axis_raw_data.y>>6);
 2250              		.loc 1 613 33 view .LVU606
 2251 025c 36B2     		sxth	r6, r6
 2252              	.LVL268:
 614:Src/lis2dh.c  ****                         outz_st += (axis_raw_data.z>>6);
 2253              		.loc 1 614 25 is_stmt 1 view .LVU607
 614:Src/lis2dh.c  ****                         outz_st += (axis_raw_data.z>>6);
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 57


 2254              		.loc 1 614 50 is_stmt 0 view .LVU608
 2255 025e BDF92230 		ldrsh	r3, [sp, #34]
 614:Src/lis2dh.c  ****                         outz_st += (axis_raw_data.z>>6);
 2256              		.loc 1 614 33 view .LVU609
 2257 0262 08EBA318 		add	r8, r8, r3, asr #6
 2258              	.LVL269:
 614:Src/lis2dh.c  ****                         outz_st += (axis_raw_data.z>>6);
 2259              		.loc 1 614 33 view .LVU610
 2260 0266 0FFA88F8 		sxth	r8, r8
 2261              	.LVL270:
 615:Src/lis2dh.c  ****                         sample_count++;            
 2262              		.loc 1 615 25 is_stmt 1 view .LVU611
 615:Src/lis2dh.c  ****                         sample_count++;            
 2263              		.loc 1 615 50 is_stmt 0 view .LVU612
 2264 026a BDF92430 		ldrsh	r3, [sp, #36]
 615:Src/lis2dh.c  ****                         sample_count++;            
 2265              		.loc 1 615 33 view .LVU613
 2266 026e 029A     		ldr	r2, [sp, #8]
 2267 0270 02EBA313 		add	r3, r2, r3, asr #6
 2268 0274 1BB2     		sxth	r3, r3
 2269 0276 0293     		str	r3, [sp, #8]
 2270              	.LVL271:
 616:Src/lis2dh.c  ****                         if (sample_count == average_num)
 2271              		.loc 1 616 25 is_stmt 1 view .LVU614
 616:Src/lis2dh.c  ****                         if (sample_count == average_num)
 2272              		.loc 1 616 37 is_stmt 0 view .LVU615
 2273 0278 09F10109 		add	r9, r9, #1
 2274              	.LVL272:
 616:Src/lis2dh.c  ****                         if (sample_count == average_num)
 2275              		.loc 1 616 37 view .LVU616
 2276 027c 5FFA89F9 		uxtb	r9, r9
 2277              	.LVL273:
 617:Src/lis2dh.c  ****                         {
 2278              		.loc 1 617 25 is_stmt 1 view .LVU617
 617:Src/lis2dh.c  ****                         {
 2279              		.loc 1 617 28 is_stmt 0 view .LVU618
 2280 0280 B9F1050F 		cmp	r9, #5
 2281 0284 7FF4CDAE 		bne	.L100
 619:Src/lis2dh.c  ****                             outy_st /= sample_count;
 2282              		.loc 1 619 29 is_stmt 1 view .LVU619
 619:Src/lis2dh.c  ****                             outy_st /= sample_count;
 2283              		.loc 1 619 37 is_stmt 0 view .LVU620
 2284 0288 96FBF9F6 		sdiv	r6, r6, r9
 2285              	.LVL274:
 620:Src/lis2dh.c  ****                             outz_st /= sample_count;
 2286              		.loc 1 620 29 is_stmt 1 view .LVU621
 620:Src/lis2dh.c  ****                             outz_st /= sample_count;
 2287              		.loc 1 620 37 is_stmt 0 view .LVU622
 2288 028c 98FBF9F8 		sdiv	r8, r8, r9
 2289              	.LVL275:
 621:Src/lis2dh.c  ****                             sample_count = 0;
 2290              		.loc 1 621 29 is_stmt 1 view .LVU623
 621:Src/lis2dh.c  ****                             sample_count = 0;
 2291              		.loc 1 621 37 is_stmt 0 view .LVU624
 2292 0290 93FBF9F3 		sdiv	r3, r3, r9
 2293 0294 0293     		str	r3, [sp, #8]
 2294              	.LVL276:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 58


 622:Src/lis2dh.c  ****                             flow++;
 2295              		.loc 1 622 29 is_stmt 1 view .LVU625
 623:Src/lis2dh.c  ****                         }    
 2296              		.loc 1 623 29 view .LVU626
 623:Src/lis2dh.c  ****                         }    
 2297              		.loc 1 623 33 is_stmt 0 view .LVU627
 2298 0296 0134     		adds	r4, r4, #1
 2299              	.LVL277:
 623:Src/lis2dh.c  ****                         }    
 2300              		.loc 1 623 33 view .LVU628
 2301 0298 E4B2     		uxtb	r4, r4
 2302              	.LVL278:
 622:Src/lis2dh.c  ****                             flow++;
 2303              		.loc 1 622 42 view .LVU629
 2304 029a 8146     		mov	r9, r0
 2305 029c C1E6     		b	.L100
 2306              	.LVL279:
 2307              	.L154:
 636:Src/lis2dh.c  ****                         goto END;
 2308              		.loc 1 636 25 is_stmt 1 view .LVU630
 2309 029e 4448     		ldr	r0, .L159+20
 2310 02a0 FFF7FEFF 		bl	puts
 2311              	.LVL280:
 637:Src/lis2dh.c  ****                     } 
 2312              		.loc 1 637 25 view .LVU631
 2313 02a4 62E0     		b	.L134
 2314              	.L104:
 640:Src/lis2dh.c  ****                 }    
 641:Src/lis2dh.c  ****                 break;
 642:Src/lis2dh.c  **** 
 643:Src/lis2dh.c  ****             case 8:
 644:Src/lis2dh.c  ****                 if (debug)
 2315              		.loc 1 644 17 view .LVU632
 2316              		.loc 1 644 20 is_stmt 0 view .LVU633
 2317 02a6 059B     		ldr	r3, [sp, #20]
 2318 02a8 83BB     		cbnz	r3, .L155
 2319              	.L129:
 645:Src/lis2dh.c  ****                 {
 646:Src/lis2dh.c  ****                     NRF_LOG_INFO("outx_st:%d,outx_nost:%d,outx_st - outx_nost:%d\r\n",outx_st,outx_
 647:Src/lis2dh.c  ****                     NRF_LOG_INFO("outy_st:%d,outy_nost:%d,outy_st - outy_nost:%d\r\n",outy_st,outy_
 648:Src/lis2dh.c  ****                     NRF_LOG_INFO("outz_st:%d,outz_nost:%d,outz_st - outz_nost:%d\r\n",outz_st,outz_
 649:Src/lis2dh.c  ****                     NRF_LOG_FLUSH();
 650:Src/lis2dh.c  ****                 }    
 651:Src/lis2dh.c  ****                 
 652:Src/lis2dh.c  ****                 if ((abs(outx_st - outx_nost) >= abs(LIS2DH_MIN_ST_X)) && (abs(outx_st - outx_nost)
 2320              		.loc 1 652 17 is_stmt 1 view .LVU634
 2321              	.LBB8:
 2322              		.loc 1 652 34 is_stmt 0 view .LVU635
 2323 02aa A6EB0A03 		sub	r3, r6, r10
 2324              		.loc 1 652 22 view .LVU636
 2325 02ae 83EAE372 		eor	r2, r3, r3, asr #31
 2326 02b2 A2EBE372 		sub	r2, r2, r3, asr #31
 2327              		.loc 1 652 20 view .LVU637
 2328 02b6 102A     		cmp	r2, #16
 2329 02b8 20DD     		ble	.L130
 2330              		.loc 1 652 101 discriminator 1 view .LVU638
 2331 02ba 03F5B473 		add	r3, r3, #360
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 59


 2332              		.loc 1 652 72 discriminator 1 view .LVU639
 2333 02be B3F5347F 		cmp	r3, #720
 2334 02c2 1BD8     		bhi	.L130
 653:Src/lis2dh.c  ****                     && (abs(outy_st - outy_nost) >= abs(LIS2DH_MIN_ST_Y)) && (abs(outy_st - outy_no
 2335              		.loc 1 653 37 view .LVU640
 2336 02c4 039B     		ldr	r3, [sp, #12]
 2337 02c6 A8EB0303 		sub	r3, r8, r3
 2338              		.loc 1 653 25 view .LVU641
 2339 02ca 83EAE372 		eor	r2, r3, r3, asr #31
 2340 02ce A2EBE372 		sub	r2, r2, r3, asr #31
 2341              		.loc 1 653 21 view .LVU642
 2342 02d2 102A     		cmp	r2, #16
 2343 02d4 12DD     		ble	.L130
 2344              		.loc 1 653 104 discriminator 1 view .LVU643
 2345 02d6 03F5B473 		add	r3, r3, #360
 2346              		.loc 1 653 75 discriminator 1 view .LVU644
 2347 02da B3F5347F 		cmp	r3, #720
 2348 02de 0DD8     		bhi	.L130
 654:Src/lis2dh.c  ****                     && (abs(outz_st - outz_nost) >= abs(LIS2DH_MIN_ST_Z)) && (abs(outz_st - outz_no
 2349              		.loc 1 654 37 view .LVU645
 2350 02e0 029B     		ldr	r3, [sp, #8]
 2351 02e2 049A     		ldr	r2, [sp, #16]
 2352 02e4 9B1A     		subs	r3, r3, r2
 2353              		.loc 1 654 25 view .LVU646
 2354 02e6 83EAE372 		eor	r2, r3, r3, asr #31
 2355 02ea A2EBE372 		sub	r2, r2, r3, asr #31
 2356              		.loc 1 654 21 view .LVU647
 2357 02ee 102A     		cmp	r2, #16
 2358 02f0 04DD     		ble	.L130
 2359              		.loc 1 654 104 discriminator 1 view .LVU648
 2360 02f2 03F5B473 		add	r3, r3, #360
 2361              		.loc 1 654 75 discriminator 1 view .LVU649
 2362 02f6 B3F5347F 		cmp	r3, #720
 2363 02fa 1ED9     		bls	.L156
 2364              	.L130:
 655:Src/lis2dh.c  ****                 {
 656:Src/lis2dh.c  ****                     self_test_pass = 1;
 657:Src/lis2dh.c  ****                     NRF_LOG_INFO("************lis2dh self_test pass************\r\n");
 658:Src/lis2dh.c  ****  
 659:Src/lis2dh.c  ****                 }
 660:Src/lis2dh.c  ****                 else
 661:Src/lis2dh.c  ****                 {
 662:Src/lis2dh.c  ****                     self_test_pass = 0;
 2365              		.loc 1 662 21 is_stmt 1 view .LVU650
 2366              	.LVL281:
 663:Src/lis2dh.c  ****                     printf("************lis2dh self_test fail************\r\n");
 2367              		.loc 1 663 21 view .LVU651
 2368 02fc 2D48     		ldr	r0, .L159+24
 2369 02fe FFF7FEFF 		bl	puts
 2370              	.LVL282:
 662:Src/lis2dh.c  ****                     printf("************lis2dh self_test fail************\r\n");
 2371              		.loc 1 662 36 is_stmt 0 view .LVU652
 2372 0302 4FF0000B 		mov	fp, #0
 2373              	.LVL283:
 2374              	.L131:
 662:Src/lis2dh.c  ****                     printf("************lis2dh self_test fail************\r\n");
 2375              		.loc 1 662 36 view .LVU653
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 60


 2376              	.LBE8:
 664:Src/lis2dh.c  ****                 }
 665:Src/lis2dh.c  ****                 
 666:Src/lis2dh.c  ****                 flow++;
 2377              		.loc 1 666 17 is_stmt 1 view .LVU654
 2378              		.loc 1 666 21 is_stmt 0 view .LVU655
 2379 0306 0134     		adds	r4, r4, #1
 2380              	.LVL284:
 2381              		.loc 1 666 21 view .LVU656
 2382 0308 E4B2     		uxtb	r4, r4
 2383              	.LVL285:
 667:Src/lis2dh.c  ****                 break;
 2384              		.loc 1 667 17 is_stmt 1 view .LVU657
 2385 030a 8AE6     		b	.L100
 2386              	.L155:
 2387              	.LBB10:
 646:Src/lis2dh.c  ****                     NRF_LOG_INFO("outy_st:%d,outy_nost:%d,outy_st - outy_nost:%d\r\n",outy_st,outy_
 2388              		.loc 1 646 21 view .LVU658
 2389 030c A6EB0A03 		sub	r3, r6, r10
 2390 0310 5246     		mov	r2, r10
 2391 0312 3146     		mov	r1, r6
 2392 0314 2848     		ldr	r0, .L159+28
 2393 0316 FFF7FEFF 		bl	NRF_LOG_INFO
 2394              	.LVL286:
 647:Src/lis2dh.c  ****                     NRF_LOG_INFO("outz_st:%d,outz_nost:%d,outz_st - outz_nost:%d\r\n",outz_st,outz_
 2395              		.loc 1 647 21 view .LVU659
 2396 031a 039A     		ldr	r2, [sp, #12]
 2397 031c A8EB0203 		sub	r3, r8, r2
 2398 0320 4146     		mov	r1, r8
 2399 0322 2648     		ldr	r0, .L159+32
 2400 0324 FFF7FEFF 		bl	NRF_LOG_INFO
 2401              	.LVL287:
 648:Src/lis2dh.c  ****                     NRF_LOG_FLUSH();
 2402              		.loc 1 648 21 view .LVU660
 2403 0328 0299     		ldr	r1, [sp, #8]
 2404 032a 049A     		ldr	r2, [sp, #16]
 2405 032c 8B1A     		subs	r3, r1, r2
 2406 032e 2448     		ldr	r0, .L159+36
 2407 0330 FFF7FEFF 		bl	NRF_LOG_INFO
 2408              	.LVL288:
 649:Src/lis2dh.c  ****                 }    
 2409              		.loc 1 649 21 view .LVU661
 2410 0334 FFF7FEFF 		bl	NRF_LOG_FLUSH
 2411              	.LVL289:
 2412 0338 B7E7     		b	.L129
 2413              	.L156:
 2414              	.LBE10:
 2415              	.LBB11:
 2416              	.LBB9:
 656:Src/lis2dh.c  ****                     NRF_LOG_INFO("************lis2dh self_test pass************\r\n");
 2417              		.loc 1 656 21 view .LVU662
 2418              	.LVL290:
 657:Src/lis2dh.c  ****  
 2419              		.loc 1 657 21 view .LVU663
 2420 033a 2248     		ldr	r0, .L159+40
 2421 033c FFF7FEFF 		bl	NRF_LOG_INFO
 2422              	.LVL291:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 61


 656:Src/lis2dh.c  ****                     NRF_LOG_INFO("************lis2dh self_test pass************\r\n");
 2423              		.loc 1 656 36 is_stmt 0 view .LVU664
 2424 0340 4FF0010B 		mov	fp, #1
 2425              	.LBE9:
 655:Src/lis2dh.c  ****                     self_test_pass = 1;
 2426              		.loc 1 655 17 view .LVU665
 2427 0344 DFE7     		b	.L131
 2428              	.LVL292:
 2429              	.L102:
 655:Src/lis2dh.c  ****                     self_test_pass = 1;
 2430              		.loc 1 655 17 view .LVU666
 2431              	.LBE11:
 668:Src/lis2dh.c  **** 
 669:Src/lis2dh.c  ****             case 9:
 670:Src/lis2dh.c  ****                 m_write_data = 0x00;
 2432              		.loc 1 670 17 is_stmt 1 view .LVU667
 2433              		.loc 1 670 30 is_stmt 0 view .LVU668
 2434 0346 0023     		movs	r3, #0
 2435 0348 8DF81F30 		strb	r3, [sp, #31]
 671:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG1_ADDR, &m_write_data, L_ONE);
 2436              		.loc 1 671 17 is_stmt 1 view .LVU669
 2437              		.loc 1 671 23 is_stmt 0 view .LVU670
 2438 034c 0122     		movs	r2, #1
 2439 034e 0DF11F01 		add	r1, sp, #31
 2440 0352 2020     		movs	r0, #32
 2441 0354 FFF7FEFF 		bl	lis2dh_write_data
 2442              	.LVL293:
 672:Src/lis2dh.c  ****                 if (ret != 0)
 2443              		.loc 1 672 17 is_stmt 1 view .LVU671
 2444              		.loc 1 672 20 is_stmt 0 view .LVU672
 2445 0358 0546     		mov	r5, r0
 2446 035a 90B9     		cbnz	r0, .L157
 673:Src/lis2dh.c  ****                 {
 674:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG1_ADDR wr error:%d\r\n",flow,ret);
 675:Src/lis2dh.c  ****                     goto END;
 676:Src/lis2dh.c  ****                 }
 677:Src/lis2dh.c  **** 
 678:Src/lis2dh.c  ****                 ret = lis2dh_write_data(GRTL_REG4_ADDR, &m_write_data, L_ONE);
 2447              		.loc 1 678 17 is_stmt 1 view .LVU673
 2448              		.loc 1 678 23 is_stmt 0 view .LVU674
 2449 035c 0122     		movs	r2, #1
 2450 035e 0DF11F01 		add	r1, sp, #31
 2451 0362 2320     		movs	r0, #35
 2452              	.LVL294:
 2453              		.loc 1 678 23 view .LVU675
 2454 0364 FFF7FEFF 		bl	lis2dh_write_data
 2455              	.LVL295:
 679:Src/lis2dh.c  ****                 if (ret != LIS2DH_SUCCREE)
 2456              		.loc 1 679 17 is_stmt 1 view .LVU676
 2457              		.loc 1 679 20 is_stmt 0 view .LVU677
 2458 0368 0546     		mov	r5, r0
 2459 036a 80B9     		cbnz	r0, .L158
 2460              	.LVL296:
 2461              	.L134:
 2462              		.loc 1 679 20 view .LVU678
 2463              	.LBE7:
 680:Src/lis2dh.c  ****                 {
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 62


 681:Src/lis2dh.c  ****                     printf("flow:%d,GRTL_REG4_ADDR wr error:%d\r\n",flow,ret);
 682:Src/lis2dh.c  ****                     goto END;
 683:Src/lis2dh.c  ****                 }
 684:Src/lis2dh.c  ****                 flow++;
 685:Src/lis2dh.c  ****                 retry_count = V_ZERO;
 686:Src/lis2dh.c  ****                 goto END;
 687:Src/lis2dh.c  ****                 break;   
 688:Src/lis2dh.c  ****     
 689:Src/lis2dh.c  ****             default:
 690:Src/lis2dh.c  ****                 printf("default lis2dh self_test flow %d\r\n",flow);
 691:Src/lis2dh.c  ****                 goto END;
 692:Src/lis2dh.c  ****         }
 693:Src/lis2dh.c  **** 
 694:Src/lis2dh.c  ****     }   
 695:Src/lis2dh.c  **** END:    
 696:Src/lis2dh.c  ****         if (ret)
 2464              		.loc 1 696 9 is_stmt 1 view .LVU679
 2465              		.loc 1 696 12 is_stmt 0 view .LVU680
 2466 036c 8DB3     		cbz	r5, .L133
 2467              	.LBB12:
 697:Src/lis2dh.c  ****         {
 698:Src/lis2dh.c  ****             check_scheduler_and_delay(1000);   //if lis2dh self_test fail,lis2dh_set_threshold will
 2468              		.loc 1 698 13 is_stmt 1 view .LVU681
 2469 036e 4FF47A70 		mov	r0, #1000
 2470 0372 FFF7FEFF 		bl	check_scheduler_and_delay
 2471              	.LVL297:
 699:Src/lis2dh.c  ****             lis2dh_init();          
 2472              		.loc 1 699 13 view .LVU682
 2473 0376 FFF7FEFF 		bl	lis2dh_init
 2474              	.LVL298:
 700:Src/lis2dh.c  ****             lis2dh_set_threshold(LIS2DH_INT1_THS_MAX);  
 2475              		.loc 1 700 13 view .LVU683
 2476 037a 7F20     		movs	r0, #127
 2477 037c FFF7FEFF 		bl	lis2dh_set_threshold
 2478              	.LVL299:
 701:Src/lis2dh.c  ****             goto END;
 2479              		.loc 1 701 13 view .LVU684
 2480 0380 F4E7     		b	.L134
 2481              	.LVL300:
 2482              	.L157:
 2483              		.loc 1 701 13 is_stmt 0 view .LVU685
 2484              	.LBE12:
 2485              	.LBB13:
 674:Src/lis2dh.c  ****                     goto END;
 2486              		.loc 1 674 21 is_stmt 1 view .LVU686
 2487 0382 0246     		mov	r2, r0
 2488 0384 0199     		ldr	r1, [sp, #4]
 2489 0386 0548     		ldr	r0, .L159
 2490              	.LVL301:
 674:Src/lis2dh.c  ****                     goto END;
 2491              		.loc 1 674 21 is_stmt 0 view .LVU687
 2492 0388 FFF7FEFF 		bl	printf
 2493              	.LVL302:
 675:Src/lis2dh.c  ****                 }
 2494              		.loc 1 675 21 is_stmt 1 view .LVU688
 2495 038c EEE7     		b	.L134
 2496              	.LVL303:
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 63


 2497              	.L158:
 681:Src/lis2dh.c  ****                     goto END;
 2498              		.loc 1 681 21 view .LVU689
 2499 038e 0246     		mov	r2, r0
 2500 0390 0199     		ldr	r1, [sp, #4]
 2501 0392 0548     		ldr	r0, .L159+12
 2502              	.LVL304:
 681:Src/lis2dh.c  ****                     goto END;
 2503              		.loc 1 681 21 is_stmt 0 view .LVU690
 2504 0394 FFF7FEFF 		bl	printf
 2505              	.LVL305:
 682:Src/lis2dh.c  ****                 }
 2506              		.loc 1 682 21 is_stmt 1 view .LVU691
 2507 0398 E8E7     		b	.L134
 2508              	.L160:
 2509 039a 00BF     		.align	2
 2510              	.L159:
 2511 039c 00000000 		.word	.LC10
 2512 03a0 28000000 		.word	.LC11
 2513 03a4 50000000 		.word	.LC12
 2514 03a8 78000000 		.word	.LC13
 2515 03ac A0000000 		.word	.LC14
 2516 03b0 C4000000 		.word	.LC15
 2517 03b4 BC010000 		.word	.LC20
 2518 03b8 F0000000 		.word	.LC16
 2519 03bc 24010000 		.word	.LC17
 2520 03c0 58010000 		.word	.LC18
 2521 03c4 8C010000 		.word	.LC19
 2522              	.LVL306:
 2523              	.L101:
 687:Src/lis2dh.c  ****     
 2524              		.loc 1 687 17 view .LVU692
 690:Src/lis2dh.c  ****                 goto END;
 2525              		.loc 1 690 17 view .LVU693
 2526 03c8 0199     		ldr	r1, [sp, #4]
 2527 03ca 0948     		ldr	r0, .L161
 2528 03cc FFF7FEFF 		bl	printf
 2529              	.LVL307:
 691:Src/lis2dh.c  ****         }
 2530              		.loc 1 691 17 view .LVU694
 691:Src/lis2dh.c  ****         }
 2531              		.loc 1 691 17 is_stmt 0 view .LVU695
 2532 03d0 CCE7     		b	.L134
 2533              	.L133:
 691:Src/lis2dh.c  ****         }
 2534              		.loc 1 691 17 view .LVU696
 2535              	.LBE13:
 2536              	.LBB14:
 702:Src/lis2dh.c  ****         }   
 703:Src/lis2dh.c  ****         else
 704:Src/lis2dh.c  ****         {
 705:Src/lis2dh.c  ****         	ret = lis2dh_init();          
 2537              		.loc 1 705 10 is_stmt 1 view .LVU697
 2538              		.loc 1 705 16 is_stmt 0 view .LVU698
 2539 03d2 FFF7FEFF 		bl	lis2dh_init
 2540              	.LVL308:
 706:Src/lis2dh.c  ****             ret = lis2dh_set_threshold(lis2dh_config_load());    
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 64


 2541              		.loc 1 706 13 is_stmt 1 view .LVU699
 2542              		.loc 1 706 40 is_stmt 0 view .LVU700
 2543 03d6 FFF7FEFF 		bl	lis2dh_config_load
 2544              	.LVL309:
 2545              		.loc 1 706 19 view .LVU701
 2546 03da C0B2     		uxtb	r0, r0
 2547 03dc FFF7FEFF 		bl	lis2dh_set_threshold
 2548              	.LVL310:
 2549              	.LBE14:
 707:Src/lis2dh.c  ****         } 
 708:Src/lis2dh.c  ****         NRF_LOG_FLUSH();
 2550              		.loc 1 708 9 is_stmt 1 view .LVU702
 2551 03e0 FFF7FEFF 		bl	NRF_LOG_FLUSH
 2552              	.LVL311:
 709:Src/lis2dh.c  ****         return self_test_pass?0:1;   
 2553              		.loc 1 709 9 view .LVU703
 710:Src/lis2dh.c  **** }        
 2554              		.loc 1 710 1 is_stmt 0 view .LVU704
 2555 03e4 8BF00100 		eor	r0, fp, #1
 2556 03e8 0BB0     		add	sp, sp, #44
 2557              	.LCFI42:
 2558              		.cfi_def_cfa_offset 36
 2559              		@ sp needed
 2560 03ea BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2561              	.LVL312:
 2562              	.L162:
 2563              		.loc 1 710 1 view .LVU705
 2564 03ee 00BF     		.align	2
 2565              	.L161:
 2566 03f0 EC010000 		.word	.LC21
 2567              		.cfi_endproc
 2568              	.LFE328:
 2570              		.comm	acc_data,74,4
 2571              		.comm	acc_sample,18,4
 2572              		.text
 2573              	.Letext0:
 2574              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2575              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include\
 2576              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 2577              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 2578              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l471xx.h"
 2579              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 2580              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 2581              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h"
 2582              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c.h"
 2583              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 2584              		.file 12 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 2585              		.file 13 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 2586              		.file 14 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\lib\\gcc\\arm-none-eab
 2587              		.file 15 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 2588              		.file 16 "Inc/main.h"
 2589              		.file 17 "Inc/i2c.h"
 2590              		.file 18 "Inc/lis2dh.h"
 2591              		.file 19 "c:\\program files (x86)\\gnu tools arm embedded\\9 2019-q4-major\\arm-none-eabi\\include
 2592              		.file 20 "Inc/zl_math.h"
 2593              		.file 21 "<built-in>"
ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 65


DEFINED SYMBOLS
                            *ABS*:00000000 lis2dh.c
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:18     .rodata.lis2dh_write_data.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:25     .text.lis2dh_write_data:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:33     .text.lis2dh_write_data:00000000 lis2dh_write_data
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:103    .text.lis2dh_write_data:00000034 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:110    .rodata.lis2dh_read_data.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:114    .text.lis2dh_read_data:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:121    .text.lis2dh_read_data:00000000 lis2dh_read_data
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:183    .text.lis2dh_read_data:0000002c $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:189    .rodata.lis2dh_set_threshold.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:196    .text.lis2dh_set_threshold:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:203    .text.lis2dh_set_threshold:00000000 lis2dh_set_threshold
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:317    .text.lis2dh_set_threshold:00000068 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:323    .rodata.lis2dh_get_threshold.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:327    .text.lis2dh_get_threshold:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:334    .text.lis2dh_get_threshold:00000000 lis2dh_get_threshold
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:380    .text.lis2dh_get_threshold:00000020 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:385    .rodata.lis2dh_rd_id.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:389    .text.lis2dh_rd_id:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:396    .text.lis2dh_rd_id:00000000 lis2dh_rd_id
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:454    .text.lis2dh_rd_id:0000002c $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:459    .text.get_acc_value:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:466    .text.get_acc_value:00000000 get_acc_value
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:557    .text.get_acc_value:00000040 $d
                            *COM*:00000012 acc_sample
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:562    .rodata.is_lis2dh_data_valid.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:566    .text.is_lis2dh_data_valid:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:573    .text.is_lis2dh_data_valid:00000000 is_lis2dh_data_valid
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:638    .text.is_lis2dh_data_valid:00000030 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:643    .rodata.lis2dh_raw_data_read.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:647    .text.lis2dh_raw_data_read:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:654    .text.lis2dh_raw_data_read:00000000 lis2dh_raw_data_read
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:755    .text.lis2dh_raw_data_read:0000004c $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:760    .text.filter_acc:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:767    .text.filter_acc:00000000 filter_acc
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:878    .text.filter_acc:00000060 $d
                            *COM*:0000004a acc_data
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:889    .text.new_angle_calculate:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:896    .text.new_angle_calculate:00000000 new_angle_calculate
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1128   .text.new_angle_calculate:000001b0 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1138   .text.old_angle_calculate:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1145   .text.old_angle_calculate:00000000 old_angle_calculate
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1377   .text.old_angle_calculate:000001b0 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1387   .rodata.lis2dh_init.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1391   .text.lis2dh_init:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1398   .text.lis2dh_init:00000000 lis2dh_init
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1600   .text.lis2dh_init:000000d0 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1605   .rodata.lis2dh_self_test.str1.4:00000000 $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1646   .text.lis2dh_self_test:00000000 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1653   .text.lis2dh_self_test:00000000 lis2dh_self_test
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1715   .text.lis2dh_self_test:0000002e $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:1725   .text.lis2dh_self_test:00000042 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:2511   .text.lis2dh_self_test:0000039c $d
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:2526   .text.lis2dh_self_test:000003c8 $t
C:\Users\123\AppData\Local\Temp\cc35SZMd.s:2566   .text.lis2dh_self_test:000003f0 $d

ARM GAS  C:\Users\123\AppData\Local\Temp\cc35SZMd.s 			page 66


UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
puts
hi2c3
HAL_I2C_Mem_Read
printf
__aeabi_i2d
__aeabi_dadd
__aeabi_d2iz
__aeabi_dmul
__aeabi_ddiv
pow
sqrt
atan
check_scheduler_and_delay
NRF_LOG_INFO
NRF_LOG_FLUSH
lis2dh_config_load
